import{p as we,_ as ve}from"./AuthenticatedLayout-aa77d5a0.js";import{j as z,r as S,k as j,K as h,p as fe,o as te,J as de,E as ne,F as U,i as ae,l as be,n as Y,m as me,u as xe,a as _,c as B,b as V,d as y,w as R,H as ye,e as n,t as D,q as H,g as Z,B as Q,v as K,x as J,L as ge,M as oe}from"./app-1fe73349.js";import{_ as ue}from"./LinkComponent-1230a278.js";import{S as le}from"./sweetalert2.all-13a2ae52.js";import{f as ie,U as _e,o as re,G as he,z as Se}from"./transition-effc0056.js";import{u as M,y as Oe,c as Ce,l as se,o as A,V as je,P as q,w as ce,t as W,R as ee,p as Re,I as ke,a as E}from"./use-outside-click-5041383f.js";import{x as Ie,a as $,b as Pe,u as Ve}from"./use-tracked-pointer-1b6e502f.js";import{f as Te,a as Ne}from"./hidden-0d8d920d.js";import{d as Be,e as De,r as $e,a as Ae}from"./ChevronUpDownIcon-be5f2d5f.js";import{d as Ee,f as Fe,c as Le,b as Me,p as Ue}from"./tabs-5fd3178e.js";import"./micro-task-89dcd6af.js";function Je(o,p){return o===p}var Ye=(o=>(o[o.Open=0]="Open",o[o.Closed=1]="Closed",o))(Ye||{}),He=(o=>(o[o.Single=0]="Single",o[o.Multi=1]="Multi",o))(He||{}),Ke=(o=>(o[o.Pointer=0]="Pointer",o[o.Other=1]="Other",o))(Ke||{});let pe=Symbol("ComboboxContext");function G(o){let p=me(pe,null);if(p===null){let k=new Error(`<${o} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(k,G),k}return p}let ze=z({name:"Combobox",emits:{"update:modelValue":o=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Je},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(o,{slots:p,attrs:k,emit:O}){let e=S(1),t=S(null),d=S(null),m=S(null),r=S(null),f=S({static:!1,hold:!1}),g=S([]),x=S(null),T=S(1),N=S(!1);function I(i=a=>a){let a=x.value!==null?g.value[x.value]:null,u=ke(i(g.value.slice()),v=>A(v.dataRef.domRef)),l=a?u.indexOf(a):null;return l===-1&&(l=null),{options:u,activeOptionIndex:l}}let C=j(()=>o.multiple?1:0),s=j(()=>o.nullable),[b,P]=Be(j(()=>o.modelValue===void 0?M(C.value,{[1]:[],[0]:void 0}):o.modelValue),i=>O("update:modelValue",i),j(()=>o.defaultValue)),w={comboboxState:e,value:b,mode:C,compare(i,a){if(typeof o.by=="string"){let u=o.by;return(i==null?void 0:i[u])===(a==null?void 0:a[u])}return o.by(i,a)},defaultValue:j(()=>o.defaultValue),nullable:s,inputRef:d,labelRef:t,buttonRef:m,optionsRef:r,disabled:j(()=>o.disabled),options:g,change(i){P(i)},activeOptionIndex:j(()=>{if(N.value&&x.value===null&&g.value.length>0){let i=g.value.findIndex(a=>!a.dataRef.disabled);if(i!==-1)return i}return x.value}),activationTrigger:T,optionsPropsRef:f,closeCombobox(){N.value=!1,!o.disabled&&e.value!==1&&(e.value=1,x.value=null)},openCombobox(){if(N.value=!0,o.disabled||e.value===0)return;let i=g.value.findIndex(a=>{let u=h(a.dataRef.value);return M(C.value,{[0]:()=>w.compare(h(w.value.value),h(u)),[1]:()=>h(w.value.value).some(l=>w.compare(h(l),h(u)))})});i!==-1&&(x.value=i),e.value=0},goToOption(i,a,u){if(N.value=!1,o.disabled||r.value&&!f.value.static&&e.value===1)return;let l=I();if(l.activeOptionIndex===null){let c=l.options.findIndex(X=>!X.dataRef.disabled);c!==-1&&(l.activeOptionIndex=c)}let v=Ie(i===$.Specific?{focus:$.Specific,id:a}:{focus:i},{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.disabled});x.value=v,T.value=u??1,g.value=l.options},selectOption(i){let a=g.value.find(l=>l.id===i);if(!a)return;let{dataRef:u}=a;P(M(C.value,{[0]:()=>u.value,[1]:()=>{let l=h(w.value.value).slice(),v=h(u.value),c=l.findIndex(X=>w.compare(v,h(X)));return c===-1?l.push(v):l.splice(c,1),l}}))},selectActiveOption(){if(w.activeOptionIndex.value===null)return;let{dataRef:i,id:a}=g.value[w.activeOptionIndex.value];P(M(C.value,{[0]:()=>i.value,[1]:()=>{let u=h(w.value.value).slice(),l=h(i.value),v=u.findIndex(c=>w.compare(l,h(c)));return v===-1?u.push(l):u.splice(v,1),u}})),w.goToOption($.Specific,a)},registerOption(i,a){let u={id:i,dataRef:a},l=I(v=>[...v,u]);if(x.value===null){let v=a.value.value;M(C.value,{[0]:()=>w.compare(h(w.value.value),h(v)),[1]:()=>h(w.value.value).some(c=>w.compare(h(c),h(v)))})&&(l.activeOptionIndex=l.options.indexOf(u))}g.value=l.options,x.value=l.activeOptionIndex,T.value=1},unregisterOption(i){let a=I(u=>{let l=u.findIndex(v=>v.id===i);return l!==-1&&u.splice(l,1),u});g.value=a.options,x.value=a.activeOptionIndex,T.value=1}};Oe([d,m,r],()=>w.closeCombobox(),j(()=>e.value===0)),fe(pe,w),Ce(j(()=>M(e.value,{[0]:se.Open,[1]:se.Closed})));let L=j(()=>w.activeOptionIndex.value===null?null:g.value[w.activeOptionIndex.value].dataRef.value),F=j(()=>{var i;return(i=A(d))==null?void 0:i.closest("form")});return te(()=>{de([F],()=>{if(!F.value||o.defaultValue===void 0)return;function i(){w.change(o.defaultValue)}return F.value.addEventListener("reset",i),()=>{var a;(a=F.value)==null||a.removeEventListener("reset",i)}},{immediate:!0})}),()=>{let{name:i,disabled:a,...u}=o,l={open:e.value===0,disabled:a,activeIndex:w.activeOptionIndex.value,activeOption:L.value,value:b.value};return ne(U,[...i!=null&&b.value!=null?De({[i]:b.value}).map(([v,c])=>ne(Te,je({features:Ne.Hidden,key:v,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:v,value:c}))):[],q({theirProps:{...k,...ce(u,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:l,slots:p,attrs:k,name:"Combobox"})])}}});z({name:"ComboboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:()=>`headlessui-combobox-label-${W()}`}},setup(o,{attrs:p,slots:k}){let O=G("ComboboxLabel");function e(){var t;(t=A(O.inputRef))==null||t.focus({preventScroll:!0})}return()=>{let t={open:O.comboboxState.value===0,disabled:O.disabled.value},{id:d,...m}=o,r={id:d,ref:O.labelRef,onClick:e};return q({ourProps:r,theirProps:m,slot:t,attrs:p,slots:k,name:"ComboboxLabel"})}}});let qe=z({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${W()}`}},setup(o,{attrs:p,slots:k,expose:O}){let e=G("ComboboxButton");O({el:e.buttonRef,$el:e.buttonRef});function t(r){e.disabled.value||(e.comboboxState.value===0?e.closeCombobox():(r.preventDefault(),e.openCombobox()),Y(()=>{var f;return(f=A(e.inputRef))==null?void 0:f.focus({preventScroll:!0})}))}function d(r){switch(r.key){case E.ArrowDown:r.preventDefault(),r.stopPropagation(),e.comboboxState.value===1&&e.openCombobox(),Y(()=>{var f;return(f=e.inputRef.value)==null?void 0:f.focus({preventScroll:!0})});return;case E.ArrowUp:r.preventDefault(),r.stopPropagation(),e.comboboxState.value===1&&(e.openCombobox(),Y(()=>{e.value.value||e.goToOption($.Last)})),Y(()=>{var f;return(f=e.inputRef.value)==null?void 0:f.focus({preventScroll:!0})});return;case E.Escape:if(e.comboboxState.value!==0)return;r.preventDefault(),e.optionsRef.value&&!e.optionsPropsRef.value.static&&r.stopPropagation(),e.closeCombobox(),Y(()=>{var f;return(f=e.inputRef.value)==null?void 0:f.focus({preventScroll:!0})});return}}let m=Pe(j(()=>({as:o.as,type:p.type})),e.buttonRef);return()=>{var r,f;let g={open:e.comboboxState.value===0,disabled:e.disabled.value,value:e.value.value},{id:x,...T}=o,N={ref:e.buttonRef,id:x,type:m.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(r=A(e.optionsRef))==null?void 0:r.id,"aria-expanded":e.disabled.value?void 0:e.comboboxState.value===0,"aria-labelledby":e.labelRef.value?[(f=A(e.labelRef))==null?void 0:f.id,x].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:d,onClick:t};return q({ourProps:N,theirProps:T,slot:g,attrs:p,slots:k,name:"ComboboxButton"})}}}),Ge=z({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${W()}`}},emits:{change:o=>!0},setup(o,{emit:p,attrs:k,slots:O,expose:e}){let t=G("ComboboxInput"),d={value:!1};e({el:t.inputRef,$el:t.inputRef});let m=j(()=>{var s;let b=t.value.value;return A(t.inputRef)?typeof o.displayValue<"u"&&b!==void 0?(s=o.displayValue(b))!=null?s:"":typeof b=="string"?b:"":""});te(()=>{de([m,t.comboboxState],([s,b],[P,w])=>{if(d.value)return;let L=A(t.inputRef);!L||(w===0&&b===1||s!==P)&&(L.value=s)},{immediate:!0})});let r=S(!1);function f(){r.value=!0}function g(){setTimeout(()=>{r.value=!1})}function x(s){switch(d.value=!0,s.key){case E.Backspace:case E.Delete:if(t.mode.value!==0||!t.nullable.value)return;let b=s.currentTarget;requestAnimationFrame(()=>{if(b.value===""){t.change(null);let P=A(t.optionsRef);P&&(P.scrollTop=0),t.goToOption($.Nothing)}});break;case E.Enter:if(d.value=!1,t.comboboxState.value!==0||r.value)return;if(s.preventDefault(),s.stopPropagation(),t.activeOptionIndex.value===null){t.closeCombobox();return}t.selectActiveOption(),t.mode.value===0&&t.closeCombobox();break;case E.ArrowDown:return d.value=!1,s.preventDefault(),s.stopPropagation(),M(t.comboboxState.value,{[0]:()=>t.goToOption($.Next),[1]:()=>t.openCombobox()});case E.ArrowUp:return d.value=!1,s.preventDefault(),s.stopPropagation(),M(t.comboboxState.value,{[0]:()=>t.goToOption($.Previous),[1]:()=>{t.openCombobox(),Y(()=>{t.value.value||t.goToOption($.Last)})}});case E.Home:if(s.shiftKey)break;return d.value=!1,s.preventDefault(),s.stopPropagation(),t.goToOption($.First);case E.PageUp:return d.value=!1,s.preventDefault(),s.stopPropagation(),t.goToOption($.First);case E.End:if(s.shiftKey)break;return d.value=!1,s.preventDefault(),s.stopPropagation(),t.goToOption($.Last);case E.PageDown:return d.value=!1,s.preventDefault(),s.stopPropagation(),t.goToOption($.Last);case E.Escape:if(d.value=!1,t.comboboxState.value!==0)return;s.preventDefault(),t.optionsRef.value&&!t.optionsPropsRef.value.static&&s.stopPropagation(),t.closeCombobox();break;case E.Tab:if(d.value=!1,t.comboboxState.value!==0)return;t.mode.value===0&&t.selectActiveOption(),t.closeCombobox();break}}function T(s){p("change",s)}function N(s){t.openCombobox(),p("change",s)}function I(){d.value=!1}let C=j(()=>{var s,b,P,w;return(w=(P=(b=o.defaultValue)!=null?b:t.defaultValue.value!==void 0?(s=o.displayValue)==null?void 0:s.call(o,t.defaultValue.value):null)!=null?P:t.defaultValue.value)!=null?w:""});return()=>{var s,b,P,w,L,F;let i={open:t.comboboxState.value===0},{id:a,displayValue:u,...l}=o,v={"aria-controls":(s=t.optionsRef.value)==null?void 0:s.id,"aria-expanded":t.disabled.value?void 0:t.comboboxState.value===0,"aria-activedescendant":t.activeOptionIndex.value===null||(b=t.options.value[t.activeOptionIndex.value])==null?void 0:b.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":(L=(P=A(t.labelRef))==null?void 0:P.id)!=null?L:(w=A(t.buttonRef))==null?void 0:w.id,id:a,onCompositionstart:f,onCompositionend:g,onKeydown:x,onChange:T,onInput:N,onBlur:I,role:"combobox",type:(F=k.type)!=null?F:"text",tabIndex:0,ref:t.inputRef,defaultValue:C.value};return q({ourProps:v,theirProps:l,slot:i,attrs:k,slots:O,features:ee.RenderStrategy|ee.Static,name:"ComboboxInput"})}}}),Qe=z({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(o,{attrs:p,slots:k,expose:O}){let e=G("ComboboxOptions"),t=`headlessui-combobox-options-${W()}`;O({el:e.optionsRef,$el:e.optionsRef}),ae(()=>{e.optionsPropsRef.value.static=o.static}),ae(()=>{e.optionsPropsRef.value.hold=o.hold});let d=Re(),m=j(()=>d!==null?d.value===se.Open:e.comboboxState.value===0);return we({container:j(()=>A(e.optionsRef)),enabled:j(()=>e.comboboxState.value===0),accept(r){return r.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:r.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(r){r.setAttribute("role","none")}}),()=>{var r,f,g,x;let T={open:e.comboboxState.value===0},N={"aria-activedescendant":e.activeOptionIndex.value===null||(r=e.options.value[e.activeOptionIndex.value])==null?void 0:r.id,"aria-labelledby":(x=(f=A(e.labelRef))==null?void 0:f.id)!=null?x:(g=A(e.buttonRef))==null?void 0:g.id,id:t,ref:e.optionsRef,role:"listbox"},I=ce(o,["hold"]);return q({ourProps:N,theirProps:I,slot:T,attrs:p,slots:k,features:ee.RenderStrategy|ee.Static,visible:m.value,name:"ComboboxOptions"})}}}),We=z({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(o,{slots:p,attrs:k,expose:O}){let e=G("ComboboxOption"),t=`headlessui-combobox-option-${W()}`,d=S(null);O({el:d,$el:d});let m=j(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===t:!1),r=j(()=>M(e.mode.value,{[0]:()=>e.compare(h(e.value.value),h(o.value)),[1]:()=>h(e.value.value).some(s=>e.compare(h(s),h(o.value)))})),f=j(()=>({disabled:o.disabled,value:o.value,domRef:d}));te(()=>e.registerOption(t,f)),be(()=>e.unregisterOption(t)),ae(()=>{e.comboboxState.value===0&&(!m.value||e.activationTrigger.value!==0&&Y(()=>{var s,b;return(b=(s=A(d))==null?void 0:s.scrollIntoView)==null?void 0:b.call(s,{block:"nearest"})}))});function g(s){if(o.disabled)return s.preventDefault();e.selectOption(t),e.mode.value===0&&e.closeCombobox()}function x(){if(o.disabled)return e.goToOption($.Nothing);e.goToOption($.Specific,t)}let T=Ve();function N(s){T.update(s)}function I(s){!T.wasMoved(s)||o.disabled||m.value||e.goToOption($.Specific,t,0)}function C(s){!T.wasMoved(s)||o.disabled||!m.value||e.optionsPropsRef.value.hold||e.goToOption($.Nothing)}return()=>{let{disabled:s}=o,b={active:m.value,selected:r.value,disabled:s},P={id:t,ref:d,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":r.value,disabled:void 0,onClick:g,onFocus:x,onPointerenter:N,onMouseenter:N,onPointermove:I,onMousemove:I,onPointerleave:C,onMouseleave:C};return q({ourProps:P,theirProps:o,slot:b,attrs:k,slots:p,name:"ComboboxOption"})}}});const Xe={class:"tw-bg-white tw-shadow-lg tw-border sm:tw-rounded-lg tw-mb-5"},Ze=n("dl",{class:"tw-px-4 tw-py-5 sm:tw-grid sm:tw-grid-cols-3 sm:tw-gap-4 sm:tw-px-6 tw-border-b-2"},[n("h3",{class:"tw-text-lg tw-font-black tw-leading-6 tw-text-gray-900"},"Curriculum Information")],-1),et={class:"tw-px-4 tw-py-5 sm:tw-grid sm:tw-grid-cols-3 sm:tw-gap-4 sm:tw-px-6 tw-border-b-2"},tt=n("dt",{class:"tw-text-sm tw-font-medium tw-text-gray-500"},"Name",-1),ot={class:"tw-mt-1 tw-text-sm tw-text-gray-900 sm:tw-col-span-2 sm:tw-mt-0"},lt={class:"tw-bg-white tw-px-4 tw-py-5 sm:tw-grid sm:tw-grid-cols-3 sm:tw-gap-4 sm:tw-px-6 tw-border-b-2"},at=n("dt",{class:"tw-text-sm tw-font-medium tw-text-gray-500"},"Date Added",-1),st={class:"tw-mt-1 tw-text-sm tw-text-gray-900 sm:tw-col-span-2 sm:tw-mt-0 tw-capitalize"},nt={class:"tw-flex tw-flex-col md:tw-flex-row tw-gap-4 tw-py-6 sm:tw-px-6 tw-px-4"},ut={class:"tw-bg-white tw-shadow-lg tw-border sm:tw-rounded-lg tw-mb-5 tw-px-4 tw-py-5 sm:tw-px-6"},it={class:"tw-flex tw-items-center tw-justify-between tw-mb-3"},rt={class:"tw-text-lg tw-font-black tw-leading-6 tw-text-gray-900"},dt=["onClick"],ct={class:"tw-overflow-x-auto tw-my-4"},pt={class:"tw-min-w-full"},wt={class:"tw-text-sm tw-font-medium tw-text-gray-800 tw-border-b"},vt={class:"border"},ft={class:"tw-px-6 tw-py-3 tw-text-sm tw-font-medium tw-text-gray-900"},bt={key:1},mt={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},xt={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},yt={key:1},gt=["colspan"],_t=n("div",{class:"tw-fixed tw-inset-0 tw-bg-black tw-bg-opacity-25"},null,-1),ht={class:"tw-fixed tw-inset-0 tw-overflow-y-auto"},St={class:"tw-flex tw-min-h-full tw-items-center tw-justify-center tw-p-4 tw-text-center"},Ot={class:""},Ct={class:"tw-relative tw-mt-1"},jt={class:"tw-flex tw-gap-x-3"},Rt={class:"tw-relative tw-w-full tw-cursor-default tw-overflow-hidden tw-rounded-lg tw-bg-white tw-text-left tw-shadow-md focus:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-white focus-visible:tw-ring-opacity-75 focus-visible:tw-ring-offset-2 focus-visible:tw-ring-offset-teal-300 sm:tw-text-sm tw-border"},kt={key:0,class:"tw-relative tw-cursor-default tw-select-none tw-py-2 tw-px-4 tw-text-gray-700"},It={class:"tw-h-96 tw-overflow-y-auto"},Pt={class:"tw-mt-5 tw-w-full tw-text-gray-600 tw-text-sm"},Vt=n("thead",{class:""},[n("tr",null,[n("th",{class:"tw-pr-4 tw-py-1"},"ID"),n("th",{class:"tw-px-4 tw-py-1"},"Course Number"),n("th",null,"Action")])],-1),Tt={class:"tw-pr-4 tw-py-1"},Nt={class:"tw-px-4 tw-py-1"},Bt=["onClick"],Dt={key:1},$t=n("td",{class:"tw-p-6 tw-py-1 tw-text-center",colspan:"3"},"No Subject",-1),At=[$t],Et={class:"tw-mt-4 tw-space-x-3"},Qt={__name:"Show",props:{model:Object,subjects:null},setup(o){const p=o;te(()=>{N(),x.value=p.subjects.first_year_first_semester_subjects,m.value=JSON.parse(JSON.stringify(d.value.filter(a=>a.description=="first_year_first_semester_subjects")[0].subjects)),r.value=JSON.parse(JSON.stringify(d.value.filter(a=>a.description=="first_year_first_semester_subjects")[0].subjects)),O.year=1,O.semester=1});const k="curriculums",O=xe({subjects:[],year:"",semester:""}),e=S(!1),t=S([{title:"ID",class:"tw-py-2 tw-px-6 tw-text-left tw-whitespace-nowrap"},{title:"Course Number",class:"tw-py-2 tw-px-6 tw-text-left tw-whitespace-nowrap"},{title:"Descriptive Title",class:"tw-py-2 tw-px-6 tw-text-left tw-whitespace-nowrap"},{title:"Units",class:"tw-py-2 tw-px-6 tw-text-left tw-whitespace-nowrap"}]),d=S({}),m=S([]),r=S([]),f=S("1st Year - 1st Sem"),g=S("first_year_first_semester_subjects"),x=S([]);function T(a){O.year=a.year,O.semester=a.semester,x.value=p.subjects[a.description],f.value=a.title,g.value=a.description,m.value=JSON.parse(JSON.stringify(a.subjects)),r.value=JSON.parse(JSON.stringify(a.subjects))}function N(){d.value=[{title:"1st Year - 1st Sem",description:"first_year_first_semester_subjects",subjects:p.model.first_year_first_semester_subjects,year:1,semester:1},{title:"1st Year - 2nd Sem",description:"first_year_second_semester_subjects",subjects:p.model.first_year_second_semester_subjects,year:1,semester:2},{title:"2nd Year - 1st Sem",description:"second_year_first_semester_subjects",subjects:p.model.second_year_first_semester_subjects,year:2,semester:1},{title:"2nd Year - 2nd Sem",description:"second_year_second_semester_subjects",subjects:p.model.second_year_second_semester_subjects,year:2,semester:2},{title:"3rd Year - 1st Sem",description:"third_year_first_semester_subjects",subjects:p.model.third_year_first_semester_subjects,year:3,semester:1},{title:"3rd Year - 2nd Sem",description:"third_year_second_semester_subjects",subjects:p.model.third_year_second_semester_subjects,year:3,semester:2},{title:"4th Year - 1st Sem",description:"fourth_year_first_semester_subjects",subjects:p.model.fourth_year_first_semester_subjects,year:4,semester:1},{title:"4th Year - 2nd Sem",description:"fourth_year_second_semester_subjects",subjects:p.model.fourth_year_second_semester_subjects,year:4,semester:2}],r.value=JSON.parse(JSON.stringify(d.value.filter(a=>a.description==g.value)[0].subjects))}let I=S(null),C=S(""),s=j(()=>C.value===""?x.value:x.value.filter(a=>a.course_code.toLowerCase().replace(/\s+/g,"").includes(C.value.toLowerCase().replace(/\s+/g,""))));function b(){m.value.filter(a=>{var u;return a.id==((u=I.value)==null?void 0:u.id)}).length||I.value&&(m.value.push(I.value),I.value=null)}function P(a){m.value.splice(a,1)}function w(){le.fire({title:"Are you sure?",showCancelButton:!0,confirmButtonColor:"#16a34a",confirmButtonText:"Save"}).then(a=>{a.isConfirmed&&L()})}function L(){O.subjects=m.value,O.post("/curriculums/"+p.model.id+"/update-subjects",{preserveScroll:!0,onSuccess:()=>{le.fire({title:"Updated successfully",confirmButtonColor:"#16a34a"}),N(),F()},onError:a=>{le.fire({title:"Something went wrong",text:"Please refresh the page.",icon:"error",confirmButtonColor:"#d33"})}})}function F(){e.value=!1}function i(){e.value=!0,m.value=JSON.parse(JSON.stringify(r.value))}return(a,u)=>(_(),B(U,null,[V(y(ye),{title:"Curriculums"}),V(ve,null,{default:R(()=>[n("div",Xe,[n("div",null,[Ze,n("dl",et,[tt,n("dd",ot,D(p.model.name),1)]),n("dl",lt,[at,n("dd",st,D(p.model.date_added),1)])]),n("div",nt,[["Admin","Faculty"].includes(a.$page.props.auth.user.roles[0].name)?(_(),H(ue,{key:0,href:"/"+k,type:"secondary"},{default:R(()=>[Z(" Back ")]),_:1},8,["href"])):Q("",!0),a.$page.props.auth.user.roles[0].name=="Admin"?(_(),H(ue,{key:1,href:"/"+k+"/"+p.model.id+"/edit",type:"primary"},{default:R(()=>[Z(" Update ")]),_:1},8,["href"])):Q("",!0)])]),n("div",ut,[n("div",it,[n("h3",rt,"Subjects for "+D(f.value),1),["Admin"].includes(a.$page.props.auth.user.roles[0].name)?(_(),B("button",{key:0,type:"button",onClick:i,class:"tw-rounded-lg tw-border-2 tw-h-10 tw-px-3 tw-border-green-600 hover:tw-bg-green-600 hover:tw-text-white tw-text-green-600 tw-text-sm"}," Update Subjects ")):Q("",!0)]),n("div",null,[V(y(Ee),null,{default:R(()=>[V(y(Fe),{class:"tw-flex tw-space-x-1 tw-rounded-xl tw-bg-indigo-500 tw-p-1"},{default:R(()=>[(_(!0),B(U,null,K(d.value,(l,v)=>(_(),H(y(Le),{as:"template",key:l.title},{default:R(({selected:c})=>[n("button",{class:J(["tw-w-full tw-rounded-lg tw-py-2 tw-text-sm tw-font tw-leading-5 tw-text-blue-700","tw-ring-white tw-ring-opacity-60 tw-ring-offset-2 tw-ring-offset-blue-400 focus:tw-outline-none focus:tw-ring-2s tw-text-xs tw-font-bold",c?"tw-bg-white tw-shadow":"tw-text-blue-100 hover:tw-bg-white/[0.12] hover:tw-text-white"]),onClick:X=>T(l)},D(l.title)+" ("+D(l.subjects.length)+") ",11,dt)]),_:2},1024))),128))]),_:1}),V(y(Me),{class:"tw-mt-2"},{default:R(()=>[(_(!0),B(U,null,K(d.value,(l,v)=>(_(),H(y(Ue),{key:v,class:J(["tw-rounded-xl tw-bg-white p-3","tw-ring-white tw-ring-opacity-60 tw-ring-offset-2 focus:tw-outline-none focus:tw-ring-2"])},{default:R(()=>[n("div",ct,[n("table",pt,[n("thead",wt,[n("tr",null,[(_(!0),B(U,null,K(t.value,c=>(_(),B("th",{key:c.title,class:J(c.class)},D(c.title),3))),128))])]),n("tbody",vt,[l.subjects.length?(_(!0),B(U,{key:0},K(l.subjects,c=>(_(),B("tr",{key:c.id,class:"tw-bg-white tw-border-b tw-transition tw-duration-300 tw-ease-in-out hover:tw-bg-gray-100"},[n("td",ft,D(c.id),1),n("td",null,[n("div",{class:J([["Admin","Faculty"].includes(a.$page.props.auth.user.roles[0].name)?"tw-text-blue-600 hover:tw-underline":"","tw-text-sm tw-font-light tw-px-6 tw-py-3"])},[["Admin","Faculty"].includes(a.$page.props.auth.user.roles[0].name)?(_(),H(y(ge),{key:0,href:"/subjects/"+c.id},{default:R(()=>[Z(D(c.course_code),1)]),_:2},1032,["href"])):(_(),B("div",bt,D(c.course_code),1))],2)]),n("td",mt,D(c.descriptive_title),1),n("td",xt,D(c.unit),1)]))),128)):(_(),B("tr",yt,[n("td",{colspan:t.value.length,class:"tw-px-6 tw-py-3 tw-whitespace-nowrap tw-text-sm tw-font-medium tw-text-gray-900 tw-text-center"}," No records ",8,gt)]))])])])]),_:2},1024))),128))]),_:1})]),_:1})])]),V(y(ie),{appear:"",show:e.value,as:"template"},{default:R(()=>[V(y(_e),{as:"div",onClose:F,class:"tw-relative tw-z-10"},{default:R(()=>[V(y(re),{as:"template",enter:"tw-duration-300 tw-ease-out","enter-from":"tw-opacity-0","enter-to":"tw-opacity-100",leave:"tw-duration-200 tw-ease-in","leave-from":"tw-opacity-100","leave-to":"tw-opacity-0"},{default:R(()=>[_t]),_:1}),n("div",ht,[n("div",St,[V(y(re),{as:"template",enter:"tw-duration-300 tw-ease-out","enter-from":"tw-opacity-0 tw-scale-95","enter-to":"tw-opacity-100 tw-scale-100",leave:"tw-duration-200 tw-ease-in","leave-from":"tw-opacity-100 tw-scale-100","leave-to":"tw-opacity-0 tw-scale-95"},{default:R(()=>[V(y(he),{class:"tw-w-full tw-max-w-md tw-transform tw-overflow-auto tw-rounded-2xl tw-bg-white tw-p-6 tw-text-left tw-align-middle tw-shadow-xl tw-transition-all"},{default:R(()=>[V(y(Se),{as:"h3",class:"tw-text-lg tw-font-medium tw-leading-6 tw-text-gray-900 tw-mb-5"},{default:R(()=>[Z(" Update Subjects for "+D(f.value),1)]),_:1}),n("div",Ot,[V(y(ze),{modelValue:y(I),"onUpdate:modelValue":u[3]||(u[3]=l=>oe(I)?I.value=l:I=l)},{default:R(()=>[n("div",Ct,[n("div",jt,[n("div",Rt,[V(y(Ge),{class:"tw-w-full tw-border-none tw-py-2 tw-pl-3 tw-pr-10 tw-text-sm tw-leading-5 tw-text-gray-900 focus:tw-ring-0",displayValue:l=>l==null?void 0:l.course_code,onChange:u[0]||(u[0]=l=>oe(C)?C.value=l.target.value:C=l.target.value),placeholder:"Search"},null,8,["displayValue"]),V(y(qe),{class:"tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-pr-2"},{default:R(()=>[V(y($e),{class:"tw-h-5 tw-w-5 tw-text-gray-400","aria-hidden":"true"})]),_:1})]),n("button",{type:"button",class:"tw-bg-green-500 hover:tw-bg-green-600 tw-px-3 tw-h-9 tw-flex tw-items-center tw-justify-center tw-rounded-md tw-text-white",onClick:u[1]||(u[1]=l=>b())}," Add ")]),V(y(ie),{leave:"tw-transition tw-ease-in tw-duration-100",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0",onAfterLeave:u[2]||(u[2]=l=>oe(C)?C.value="":C="")},{default:R(()=>[V(y(Qe),{class:"tw-absolute tw-mt-1 tw-max-h-60 tw-w-full tw-overflow-auto tw-rounded-md tw-bg-white tw-py-1 tw-text-base tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none sm:tw-text-sm"},{default:R(()=>[y(s).length===0&&y(C)!==""?(_(),B("div",kt," Nothing found. ")):Q("",!0),(_(!0),B(U,null,K(y(s),l=>(_(),H(y(We),{as:"template",key:l.id,value:l},{default:R(({selected:v,active:c})=>[n("li",{class:J(["tw-relative tw-cursor-default tw-select-none tw-py-2 tw-pl-10 tw-pr-4",{"tw-bg-teal-600 tw-text-white":c,"tw-text-gray-900":!c}])},[n("span",{class:J(["tw-block tw-truncate",{"tw-font-medium":v,"tw-font-normal":!v}])},D(l.id)+" - "+D(l.course_code),3),v?(_(),B("span",{key:0,class:J(["tw-absolute tw-inset-y-0 tw-left-0 tw-flex tw-items-center tw-pl-3",{"tw-text-white":c,"tw-text-teal-600":!c}])},[V(y(Ae),{class:"tw-h-5 tw-w-5","aria-hidden":"true"})],2)):Q("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]),n("div",It,[n("table",Pt,[Vt,n("tbody",null,[m.value.length?(_(!0),B(U,{key:0},K(m.value,(l,v)=>(_(),B("tr",{key:v},[n("td",Tt,D(l.id),1),n("td",Nt,D(l.course_code),1),n("td",null,[n("button",{class:"tw-text-red-600 tw-text-xs",onClick:c=>P(v)}," Remove ",8,Bt)])]))),128)):(_(),B("tr",Dt,At))])])])]),n("div",Et,[n("button",{type:"button",class:"tw-inline-flex tw-justify-center tw-rounded-md tw-border tw-border-transparent tw-bg-gray-100 tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-text-gray-900 hover:tw-bg-gray-200 focus:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-gray-500 focus-visible:tw-ring-offset-2",onClick:F}," Cancel "),n("button",{type:"button",class:"tw-inline-flex tw-justify-center tw-rounded-md tw-border tw-border-transparent tw-bg-amber-500 tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-text-white hover:tw-bg-amber-600 focus:tw-outline-none",onClick:u[4]||(u[4]=l=>w())}," Save ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]),_:1})],64))}};export{Qt as default};
