import{_ as V}from"./AuthenticatedLayout-ff5f8feb.js";import{a as e,c as a,e as t,o as Y,r as C,u as F,b as n,d as i,w as r,F as c,H as E,t as d,g as m,q as u,B as f,v as h,x,L as S}from"./app-43b201f5.js";import{_ as g}from"./LinkComponent-32bf0b04.js";import{S as y}from"./sweetalert2.all-b5239eb9.js";import{d as j,f as z,c as H,b as I,p as L}from"./tabs-50401d43.js";import"./use-outside-click-4fa20e03.js";import"./use-tracked-pointer-e6240226.js";import"./hidden-103552dc.js";import"./micro-task-89dcd6af.js";function T(b,l){return e(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})])}const M={class:"tw-bg-white tw-shadow-lg tw-border sm:tw-rounded-lg tw-mb-5"},O=t("dl",{class:"tw-px-4 tw-py-5 sm:tw-grid sm:tw-grid-cols-3 sm:tw-gap-4 sm:tw-px-6 tw-border-b-2"},[t("h3",{class:"tw-text-lg tw-font-black tw-leading-6 tw-text-gray-900"},"Academic Year Information")],-1),q={class:"tw-px-4 tw-py-5 sm:tw-grid sm:tw-grid-cols-3 sm:tw-gap-4 sm:tw-px-6 tw-border-b-2"},P=t("dt",{class:"tw-text-sm tw-font-medium tw-text-gray-500"},"Name",-1),U={class:"tw-mt-1 tw-text-sm tw-text-gray-900 sm:tw-col-span-2 sm:tw-mt-0"},G={class:"tw-bg-white tw-px-4 tw-py-5 sm:tw-grid sm:tw-grid-cols-3 sm:tw-gap-4 sm:tw-px-6 tw-border-b-2"},J=t("dt",{class:"tw-text-sm tw-font-medium tw-text-gray-500"},"Date Added",-1),K={class:"tw-mt-1 tw-text-sm tw-text-gray-900 sm:tw-col-span-2 sm:tw-mt-0 tw-capitalize"},Q={class:"tw-flex tw-flex-col md:tw-flex-row tw-gap-4 tw-py-6 sm:tw-px-6 tw-px-4"},R={class:"tw-bg-white tw-shadow-lg tw-border sm:tw-rounded-lg tw-mb-5 tw-px-4 tw-py-5 sm:tw-px-6"},W={class:"tw-flex tw-items-center tw-justify-between tw-mb-3"},X=t("h3",{class:"tw-text-lg tw-font-black tw-leading-6 tw-text-gray-900"},"Sections",-1),Z=t("div",null,null,-1),tt={class:"tw-overflow-x-auto tw-my-4"},et={class:"tw-min-w-full"},st={class:"tw-text-sm tw-font-medium tw-text-gray-800 tw-border-b"},ot={class:"border"},rt={class:"tw-px-6 tw-py-3 tw-text-sm tw-font-medium tw-text-gray-900"},at={class:"tw-px-6 tw-py-3 tw-text-sm tw-font-medium tw-text-gray-900"},wt={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},it={class:"tw-flex tw-gap-2"},lt=["onClick"],nt={key:1},dt=["colspan"],bt={__name:"Show",props:{model:Object},setup(b){const l=b;Y(()=>{k()});const v="academic-years",_=C({});function k(){_.value=[{title:"First Year",items:l.model.first_year_sections},{title:"Second Year",items:l.model.second_year_sections},{title:"Third Year",items:l.model.third_year_sections},{title:"Fourth Year",items:l.model.fourth_year_sections}]}const B=C([{title:"ID",class:"tw-py-2 tw-px-6 tw-text-left"},{title:"Name",class:"tw-py-2 tw-px-6 tw-text-left"},{title:"Actions",class:"tw-py-2 tw-px-6 tw-text-left"}]),D=F({});function N(s){y.fire({title:"Are you sure?",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Delete"}).then(p=>{p.isConfirmed&&$(s)})}function $(s){let p=Array.isArray(s)?Object.keys(s).map(w=>s[w].id):[s];D.transform(()=>({id_array:p})).delete(route("sections.destroy",s),{preserveScroll:!0,onSuccess:()=>{y.fire({title:"Deleted successfully",confirmButtonColor:"#16a34a"}),k()},onError:w=>{y.fire({title:"Something went wrong",text:"Please refresh the page.",icon:"error",confirmButtonColor:"#d33"})}})}return(s,p)=>(e(),a(c,null,[n(i(E),{title:"Academic Years"}),n(V,null,{default:r(()=>[t("div",M,[t("div",null,[O,t("dl",q,[P,t("dd",U,d(l.model.name),1)]),t("dl",G,[J,t("dd",K,d(l.model.date_added),1)])]),t("div",Q,[n(g,{href:"/"+v,type:"secondary"},{default:r(()=>[m(" Back ")]),_:1},8,["href"]),s.$page.props.auth.user.roles[0].name=="Admin"?(e(),u(g,{key:0,href:"/"+v+"/"+l.model.id+"/edit",type:"primary"},{default:r(()=>[m(" Update ")]),_:1},8,["href"])):f("",!0)])]),t("div",R,[t("div",W,[X,s.$page.props.auth.user.roles[0].name=="Admin"?(e(),u(g,{key:0,href:"/sections/create",type:"success-outlined",class:""},{default:r(()=>[n(i(T),{class:"tw-block tw-h-5 tw-w-5","aria-hidden":"true"}),m(" New Section ")]),_:1})):f("",!0)]),Z,t("div",null,[n(i(j),null,{default:r(()=>[n(i(z),{class:"tw-flex tw-space-x-1 tw-rounded-xl tw-bg-indigo-500 tw-p-1"},{default:r(()=>[(e(!0),a(c,null,h(_.value,(w,A)=>(e(),u(i(H),{as:"template",key:w.title},{default:r(({selected:o})=>[t("button",{class:x(["tw-w-full tw-rounded-lg tw-py-2 tw-text-sm tw-font tw-leading-5 tw-text-blue-700","tw-ring-white tw-ring-opacity-60 tw-ring-offset-2 tw-ring-offset-blue-400 focus:tw-outline-none focus:tw-ring-2s tw-text-xs tw-font-bold",o?"tw-bg-white tw-shadow":"tw-text-blue-100 hover:tw-bg-white/[0.12] hover:tw-text-white"])},d(w.title)+" ("+d(w.items.length)+") ",3)]),_:2},1024))),128))]),_:1}),n(i(I),{class:"tw-mt-2"},{default:r(()=>[(e(!0),a(c,null,h(_.value,(w,A)=>(e(),u(i(L),{key:A,class:x(["tw-rounded-xl tw-bg-white p-3","tw-ring-white tw-ring-opacity-60 tw-ring-offset-2 focus:tw-outline-none focus:tw-ring-2"])},{default:r(()=>[t("div",tt,[t("table",et,[t("thead",st,[t("tr",null,[(e(!0),a(c,null,h(B.value,o=>(e(),a("th",{key:o.title,class:x(o.class)},d(o.title),3))),128))])]),t("tbody",ot,[w.items.length?(e(!0),a(c,{key:0},h(w.items,o=>(e(),a("tr",{key:o.id,class:"tw-bg-white tw-border-b tw-transition tw-duration-300 tw-ease-in-out hover:tw-bg-gray-100"},[t("td",rt,d(o.id),1),t("td",at,d(o.name),1),t("td",wt,[t("div",it,[n(i(S),{href:"/sections/"+o.id,class:"tw-text-green-500 hover:tw-text-green-600 tw-transition tw-duration-300 tw-ease-in-out",title:"View"},{default:r(()=>[m(" View ")]),_:2},1032,["href"]),s.$page.props.auth.user.roles[0].name=="Admin"?(e(),u(i(S),{key:0,href:"/sections/"+o.id+"/edit",class:"tw-text-blue-600 hover:tw-text-blue-700 tw-transition tw-duration-300 tw-ease-in-out",title:"Edit"},{default:r(()=>[m(" Edit ")]),_:2},1032,["href"])):f("",!0),s.$page.props.auth.user.roles[0].name=="Admin"?(e(),a("a",{key:1,href:"#",class:"tw-text-red-500 hover:tw-text-red-600 tw-transition tw-duration-300 tw-ease-in-out",title:"Delete",onClick:ct=>N(o.id)}," Delete ",8,lt)):f("",!0)])])]))),128)):(e(),a("tr",nt,[t("td",{colspan:B.value.length,class:"tw-px-6 tw-py-3 tw-whitespace-nowrap tw-text-sm tw-font-medium tw-text-gray-900 tw-text-center"}," No records ",8,dt)]))])])])]),_:2},1024))),128))]),_:1})]),_:1})])])]),_:1})],64))}};export{bt as default};
