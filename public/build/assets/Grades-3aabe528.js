import{a as o,c as a,e as t,o as N,r as g,s as d,u as z,b as l,d as e,w,F as _,H as B,L as x,g as p,t as i,B as u,q as f,v as y,x as j,f as M}from"./app-1fe73349.js";import{_ as H}from"./AuthenticatedLayout-aa77d5a0.js";import{S as L}from"./sweetalert2.all-13a2ae52.js";import{_ as U}from"./TextInput-ee62d92c.js";import{_ as q}from"./InputLabel-0c576b08.js";import{_ as E}from"./InputError-5c354eaa.js";import{d as D,f as I,c as O,b as P,p as T}from"./tabs-5fd3178e.js";import{f as J,U as K,o as V,G as Q,z as R}from"./transition-effc0056.js";import"./use-outside-click-5041383f.js";import"./use-tracked-pointer-1b6e502f.js";import"./hidden-0d8d920d.js";import"./micro-task-89dcd6af.js";function W(C,s){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M5 2.75C5 1.784 5.784 1 6.75 1h6.5c.966 0 1.75.784 1.75 1.75v3.552c.377.046.752.097 1.126.153A2.212 2.212 0 0118 8.653v4.097A2.25 2.25 0 0115.75 15h-.241l.305 1.984A1.75 1.75 0 0114.084 19H5.915a1.75 1.75 0 01-1.73-2.016L4.492 15H4.25A2.25 2.25 0 012 12.75V8.653c0-1.082.775-2.034 1.874-2.198.374-.056.75-.107 1.127-.153L5 6.25v-3.5zm8.5 3.397a41.533 41.533 0 00-7 0V2.75a.25.25 0 01.25-.25h6.5a.25.25 0 01.25.25v3.397zM6.608 12.5a.25.25 0 00-.247.212l-.693 4.5a.25.25 0 00.247.288h8.17a.25.25 0 00.246-.288l-.692-4.5a.25.25 0 00-.247-.212H6.608z","clip-rule":"evenodd"})])}const X={class:"tw-bg-white tw-shadow-lg tw-border sm:tw-rounded-lg tw-mb-5"},Z=t("dl",{class:"tw-px-4 tw-py-5 sm:tw-grid sm:tw-grid-cols-3 sm:tw-gap-4 sm:tw-px-6 tw-border-b-2"},[t("h3",{class:"tw-text-lg tw-font-black tw-leading-6 tw-text-gray-900"},"Student Information")],-1),tt={key:0,class:"tw-px-4 tw-py-5 sm:tw-grid sm:tw-grid-cols-3 sm:tw-gap-4 sm:tw-px-6 tw-border-b-2"},et=t("dt",{class:"tw-text-sm tw-font-medium tw-text-gray-500"},"Name",-1),st={class:"tw-mt-1 tw-text-sm tw-text-gray-900 sm:tw-col-span-2 sm:tw-mt-0"},ot={class:"tw-px-4 tw-py-5 sm:tw-grid sm:tw-grid-cols-3 sm:tw-gap-4 sm:tw-px-6 tw-border-b-2"},at=t("dt",{class:"tw-text-sm tw-font-medium tw-text-gray-500"},"Year",-1),rt={class:"tw-mt-1 tw-text-sm tw-text-gray-900 sm:tw-col-span-2 sm:tw-mt-0"},lt={class:"tw-px-4 tw-py-5 sm:tw-grid sm:tw-grid-cols-3 sm:tw-gap-4 sm:tw-px-6 tw-border-b-2"},wt=t("dt",{class:"tw-text-sm tw-font-medium tw-text-gray-500"},"Section",-1),it={class:"tw-mt-1 tw-text-sm tw-text-gray-900 sm:tw-col-span-2 sm:tw-mt-0"},nt={key:0},dt={key:1},ct={class:"tw-px-4 tw-py-5 sm:tw-grid sm:tw-grid-cols-3 sm:tw-gap-4 sm:tw-px-6 tw-border-b-2"},ut=t("dt",{class:"tw-text-sm tw-font-medium tw-text-gray-500"},"Academic Year",-1),mt={class:"tw-mt-1 tw-text-sm tw-text-gray-900 sm:tw-col-span-2 sm:tw-mt-0"},pt={key:0},_t={key:1},ft={class:"tw-px-4 tw-py-5 sm:tw-grid sm:tw-grid-cols-3 sm:tw-gap-4 sm:tw-px-6 tw-border-b-2"},ht=t("dt",{class:"tw-text-sm tw-font-medium tw-text-gray-500"},"Curriculum",-1),gt={class:"tw-mt-1 tw-text-sm tw-text-gray-900 sm:tw-col-span-2 sm:tw-mt-0"},xt={key:0},yt={key:1},bt={class:"tw-bg-white tw-shadow-lg tw-border sm:tw-rounded-lg tw-mb-5 tw-px-4 tw-py-5 sm:tw-px-6"},vt=t("div",{class:"tw-flex tw-items-center tw-justify-between tw-mb-3"},[t("h3",{class:"tw-text-lg tw-font-black tw-leading-6 tw-text-gray-900"},"Grades")],-1),kt={class:"tw-overflow-x-auto tw-my-4"},jt={class:"tw-min-w-full"},Ct={class:"tw-text-sm tw-font-medium tw-text-gray-800 tw-border-b"},St={class:"border"},At={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},Ft={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},Yt={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},$t={key:0,class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},Vt={class:"tw-flex tw-gap-2"},Gt=["onClick"],Nt={key:1},zt=["colspan"],Bt={class:"tw-inline-block"},Mt=["href"],Ht=t("div",{class:"tw-fixed tw-inset-0 tw-bg-black tw-bg-opacity-25"},null,-1),Lt={class:"tw-fixed tw-inset-0 tw-overflow-y-auto"},Ut={class:"tw-flex tw-min-h-full tw-items-center tw-justify-center tw-p-4 tw-text-center"},qt={class:"tw-mt-2"},Et={class:"tw-mt-4 tw-flex tw-gap-x-3"},ee={__name:"Grades",props:{model:Object},setup(C){const s=C;N(()=>{S()});const b=g({});function S(){b.value=[{title:"1st Year-1st Sem",items:s.model.first_year_first_semester_subjects,year:1,semester:1},{title:"1st Year-2nd Sem",items:s.model.first_year_second_semester_subjects,year:1,semester:2},{title:"2nd Year-1st Sem",items:s.model.second_year_first_semester_subjects,year:2,semester:1},{title:"2nd Year-2nd Sem",items:s.model.second_year_second_semester_subjects,year:2,semester:2},{title:"3rd Year-1st Sem",items:s.model.third_year_first_semester_subjects,year:3,semester:1},{title:"3rd Year-2nd Sem",items:s.model.third_year_second_semester_subjects,year:3,semester:2},{title:"4th Year-1st Sem",items:s.model.fourth_year_first_semester_subjects,year:4,semester:1},{title:"4th Year-2nd Sem",items:s.model.fourth_year_second_semester_subjects,year:4,semester:2}]}const A=g([{title:"Course Number",class:"tw-py-2 tw-px-6 tw-text-left tw-whitespace-nowrap"},{title:"Descriptive Title",class:"tw-py-2 tw-px-6 tw-text-left tw-whitespace-nowrap"},{title:"Grade",class:"tw-py-2 tw-px-6 tw-text-left tw-whitespace-nowrap"},{title:"Actions",class:d().props.value.auth.user.roles[0].name=="Admin"||d().props.value.auth.user.roles[0].name=="Faculty"?"tw-py-2 tw-px-6 tw-text-left":"tw-py-2 tw-px-6 tw-text-left tw-hidden"}]),m=z({subject_id:null,grade:null}),v=g(!1),F=g(null);function k(){v.value=!1}function G(h,c,r){v.value=!0,F.value=c,m.subject_id=h,m.grade=r}function Y(){m.post("/students/"+s.model.id+"/grades",{preserveScroll:!0,onSuccess:()=>{L.fire({title:"Updated successfully",confirmButtonColor:"#16a34a"}),S()}}),k()}return(h,c)=>(o(),a(_,null,[l(e(B),{title:"Curriculums"}),l(H,null,{default:w(()=>[t("div",X,[t("div",null,[Z,e(d)().props.value.auth.user.roles[0].name=="Admin"||e(d)().props.value.auth.user.roles[0].name=="Faculty"?(o(),a("dl",tt,[et,t("dd",st,[l(e(x),{class:"tw-text-blue-500 tw-underline hover:tw-text-blue-700",href:"/students/"+s.model.id},{default:w(()=>[p(i(s.model.first_name)+" "+i(s.model.last_name),1)]),_:1},8,["href"])])])):u("",!0),t("dl",ot,[at,t("dd",rt,i(s.model.sections[0]?s.model.sections[0].year:""),1)]),t("dl",lt,[wt,t("dd",it,[e(d)().props.value.auth.user.roles[0].name=="Admin"||e(d)().props.value.auth.user.roles[0].name=="Faculty"?(o(),a("div",nt,[s.model.sections[0]?(o(),f(e(x),{key:0,href:"/sections/"+s.model.sections[0].id,class:"tw-text-blue-500 tw-underline hover:tw-text-blue-700"},{default:w(()=>[p(i(s.model.sections[0].name),1)]),_:1},8,["href"])):u("",!0)])):(o(),a("div",dt,i(s.model.sections[0].name),1))])]),t("dl",ct,[ut,t("dd",mt,[e(d)().props.value.auth.user.roles[0].name=="Admin"||e(d)().props.value.auth.user.roles[0].name=="Faculty"?(o(),a("div",pt,[s.model.sections[0]?(o(),f(e(x),{key:0,href:"/academic-years/"+s.model.sections[0].academic_year.id,class:"tw-text-blue-500 tw-underline hover:tw-text-blue-700"},{default:w(()=>[p(i(s.model.sections[0].academic_year.name),1)]),_:1},8,["href"])):u("",!0)])):(o(),a("div",_t,i(s.model.sections[0].academic_year.name),1))])]),t("dl",ft,[ht,t("dd",gt,[e(d)().props.value.auth.user.roles[0].name=="Admin"||e(d)().props.value.auth.user.roles[0].name=="Faculty"||e(d)().props.value.auth.user.roles[0].name=="Student"?(o(),a("div",xt,[s.model.sections[0]?(o(),f(e(x),{key:0,href:"/curriculums/"+s.model.sections[0].curriculum.id,class:"tw-text-blue-500 tw-underline hover:tw-text-blue-700"},{default:w(()=>[p(i(s.model.sections[0].curriculum.name),1)]),_:1},8,["href"])):u("",!0)])):(o(),a("div",yt,i(s.model.sections[0].curriculum.name),1))])])])]),t("div",bt,[vt,t("div",null,[l(e(D),null,{default:w(()=>[l(e(I),{class:"tw-flex tw-space-x-1 tw-rounded-xl tw-bg-indigo-500 tw-p-1"},{default:w(()=>[(o(!0),a(_,null,y(b.value,(r,$)=>(o(),f(e(O),{as:"template",key:r.title},{default:w(({selected:n})=>[t("button",{class:j(["tw-w-full tw-rounded-lg tw-py-2 tw-text-sm tw-font tw-leading-5 tw-text-blue-700","tw-ring-white tw-ring-opacity-60 tw-ring-offset-2 tw-ring-offset-blue-400 focus:tw-outline-none focus:tw-ring-2s tw-text-xs tw-font-bold",n?"tw-bg-white tw-shadow":"tw-text-blue-100 hover:tw-bg-white/[0.12] hover:tw-text-white"])},i(r.title)+" ("+i(r.items.length)+") ",3)]),_:2},1024))),128))]),_:1}),l(e(P),{class:"tw-mt-2"},{default:w(()=>[(o(!0),a(_,null,y(b.value,(r,$)=>(o(),f(e(T),{key:$,class:j(["tw-rounded-xl tw-bg-white p-3","tw-ring-white tw-ring-opacity-60 tw-ring-offset-2 focus:tw-outline-none focus:tw-ring-2"])},{default:w(()=>[t("div",kt,[t("table",jt,[t("thead",Ct,[t("tr",null,[(o(!0),a(_,null,y(A.value,n=>(o(),a("th",{key:n.title,class:j(n.class)},i(n.title),3))),128))])]),t("tbody",St,[r.items.length?(o(!0),a(_,{key:0},y(r.items,n=>(o(),a("tr",{key:n.id,class:"tw-bg-white tw-border-b tw-transition tw-duration-300 tw-ease-in-out hover:tw-bg-gray-100"},[t("td",At,i(n.course_code),1),t("td",Ft,i(n.descriptive_title),1),t("td",Yt,i(n.pivot.grade),1),e(d)().props.value.auth.user.roles[0].name=="Admin"||e(d)().props.value.auth.user.roles[0].name=="Faculty"?(o(),a("td",$t,[t("div",Vt,[h.$page.props.auth.user.roles[0].name=="Admin"||h.$page.props.auth.user.roles[0].name=="Faculty"?(o(),a("button",{key:0,type:"button",class:"tw-text-blue-600 hover:tw-text-blue-700 tw-transition tw-duration-300 tw-ease-in-out",title:"Edit",onClick:Dt=>G(n.id,n.course_code,n.pivot.grade)}," Edit ",8,Gt)):u("",!0)])])):u("",!0)]))),128)):(o(),a("tr",Nt,[t("td",{colspan:A.value.length,class:"tw-px-6 tw-py-3 tw-whitespace-nowrap tw-text-sm tw-font-medium tw-text-gray-900 tw-text-center"}," No records ",8,zt)]))])])]),t("div",Bt,[r.items.length?(o(),a("a",{key:0,target:"_blank",href:"/print-grades/"+s.model.id_number+"/?year="+r.year+"&semester="+r.semester,class:"tw-bg-blue-500 tw-h-8 tw-text-white tw-px-3 tw-rounded-lg tw-flex tw-grow-0 tw-items-center tw-justify-center"},[l(e(W),{class:"tw-w-4 tw-h-4 tw-mr-2"}),p(" Print ")],8,Mt)):u("",!0)])]),_:2},1024))),128))]),_:1})]),_:1})])]),l(e(J),{appear:"",show:v.value,as:"template"},{default:w(()=>[l(e(K),{as:"div",onClose:k,class:"tw-relative z-10"},{default:w(()=>[l(e(V),{as:"template",enter:"tw-duration-300 ease-out","enter-from":"tw-opacity-0","enter-to":"tw-opacity-100",leave:"tw-duration-200 ease-in","leave-from":"tw-opacity-100","leave-to":"tw-opacity-0"},{default:w(()=>[Ht]),_:1}),t("div",Lt,[t("div",Ut,[l(e(V),{as:"template",enter:"tw-duration-300 tw-ease-out","enter-from":"tw-opacity-0 tw-scale-95","enter-to":"tw-opacity-100 tw-scale-100",leave:"tw-duration-200 tw-ease-in","leave-from":"tw-opacity-100 tw-scale-100","leave-to":"tw-opacity-0 tw-scale-95"},{default:w(()=>[l(e(Q),{class:"tw-w-full tw-max-w-md tw-transform tw-overflow-hidden tw-rounded-2xl tw-bg-white tw-p-6 tw-text-left tw-align-middle tw-shadow-xl tw-transition-all"},{default:w(()=>[l(e(R),{as:"h3",class:"tw-text-lg tw-font-medium tw-leading-6 tw-text-gray-900"},{default:w(()=>[p(" Update Grade for "),t("b",null,i(F.value),1)]),_:1}),t("form",{onSubmit:c[3]||(c[3]=M(r=>Y(),["prevent"])),class:"tw-mt-6 tw-space-y-6"},[t("div",qt,[t("div",null,[l(q,{for:"grade",value:"New Grade",required:""}),l(U,{id:"grade",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:e(m).grade,"onUpdate:modelValue":c[0]||(c[0]=r=>e(m).grade=r),required:"",autofocus:"",autocomplete:"grade"},null,8,["modelValue"]),l(E,{class:"tw-mt-2",message:e(m).errors.grade},null,8,["message"])])]),t("div",Et,[t("button",{type:"button",class:"tw-inline-flex tw-justify-center tw-rounded-md tw-border tw-border-transparent tw-bg-gray-100 tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-text-gray-900 hover:tw-bg-gray-200 focus:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-gray-500 focus-visible:tw-ring-offset-2",onClick:c[1]||(c[1]=r=>k())}," Cancel "),t("button",{type:"button",class:"tw-inline-flex tw-justify-center tw-rounded-md tw-border tw-border-transparent tw-bg-blue-100 tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-text-blue-900 hover:tw-bg-blue-200 focus:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-blue-500 focus-visible:tw-ring-offset-2",onClick:c[2]||(c[2]=r=>Y())}," Save ")])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]),_:1})],64))}};export{ee as default};
