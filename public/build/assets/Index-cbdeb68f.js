import{_ as C}from"./AuthenticatedLayout-9c6bd5d9.js";import{P as S}from"./Pagination-09cbc451.js";import{r as j,u as B,a as r,c as l,b as w,d as c,w as p,F as u,H as P,e,q as x,g as d,B as f,s as _,v as D,t as o,L as h}from"./app-59b56124.js";import{S as m}from"./sweetalert2.all-0d0469c4.js";import{_ as A}from"./LinkComponent-f80632ad.js";import{r as N}from"./PlusIcon-23378a29.js";import"./use-outside-click-a33fe8c4.js";import"./use-tracked-pointer-8a03dc1b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ChevronRightIcon-1eea4b61.js";const V={class:"tw-flex tw-flex-col md:tw-flex-row tw-mb-4 md:tw-justify-between md:tw-items-center tw-gap-y-4"},$=e("h3",{class:"tw-text-xl tw-font-bold tw-leading-6 tw-text-gray-700"}," Subjects ",-1),E={class:"tw-overflow-x-auto tw-mb-4"},F={class:"tw-min-w-full"},I={class:"tw-border tw-bg-rose-800 tw-text-sm tw-font-medium tw-text-white"},q={class:"border"},H={class:"tw-px-6 tw-py-3 tw-whitespace-nowrap tw-text-sm tw-font-medium tw-text-gray-900"},L={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},T={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},O={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},z={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},Y={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},G={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},J={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},K={class:"tw-flex tw-gap-2"},M=["onClick"],at={__name:"Index",props:{response:Object},setup(y){const a=y,g=j([{title:"ID",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Curriculum",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Course Number",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Descriptive Title",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Prerequisite Subject ID",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Year",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Semester",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Actions",class:"tw-py-3 tw-px-6 tw-text-left"}]),n="subjects",b=B({});function v(s){m.fire({title:"Are you sure?",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Delete"}).then(i=>{i.isConfirmed&&k(s)})}function k(s){let i=Array.isArray(s)?Object.keys(s).map(t=>s[t].id):[s];b.transform(()=>({id_array:i})).delete(route(n+".destroy",s),{preserveScroll:!0,onSuccess:()=>{m.fire({title:"Deleted successfully",confirmButtonColor:"#9F1239"})},onError:t=>{m.fire({title:"Something went wrong",text:"Please refresh the page.",icon:"error",confirmButtonColor:"#d33"})}})}return(s,i)=>(r(),l(u,null,[w(c(P),{title:"Subjects"}),w(C,null,{default:p(()=>[e("div",V,[$,s.$page.props.auth.user.roles[0].name=="Admin"?(r(),x(A,{key:0,href:n+"/create",type:"success-outlined",class:""},{default:p(()=>[w(c(N),{class:"tw-block tw-h-5 tw-w-5","aria-hidden":"true"}),d(" New Subject ")]),_:1},8,["href"])):f("",!0)]),e("div",E,[e("table",F,[e("thead",I,[e("tr",null,[(r(!0),l(u,null,_(g.value,t=>(r(),l("th",{key:t.title,class:D(t.class)},o(t.title),3))),128))])]),e("tbody",q,[(r(!0),l(u,null,_(a.response.data,t=>(r(),l("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-transition tw-duration-300 tw-ease-in-out hover:tw-bg-gray-100"},[e("td",H,o(t.id),1),e("td",L,o(t.subject_curriculum_name),1),e("td",T,o(t.course_code),1),e("td",O,o(t.descriptive_title),1),e("td",z,o(t.prerequisite_subject_id),1),e("td",Y,o(t.year),1),e("td",G,o(t.semester),1),e("td",J,[e("div",K,[w(c(h),{href:n+"/"+t.id,class:"tw-text-green-500 hover:tw-text-green-600 tw-transition tw-duration-300 tw-ease-in-out",title:"View"},{default:p(()=>[d(" View ")]),_:2},1032,["href"]),s.$page.props.auth.user.roles[0].name=="Admin"?(r(),x(c(h),{key:0,href:n+"/"+t.id+"/edit",class:"tw-text-blue-600 hover:tw-text-blue-700 tw-transition tw-duration-300 tw-ease-in-out",title:"Edit"},{default:p(()=>[d(" Edit ")]),_:2},1032,["href"])):f("",!0),s.$page.props.auth.user.roles[0].name=="Admin"?(r(),l("a",{key:1,href:"#",class:"tw-text-red-500 hover:tw-text-red-600 tw-transition tw-duration-300 tw-ease-in-out",title:"Delete",onClick:Q=>v(t.id)}," Delete ",8,M)):f("",!0)])])]))),128))])])]),w(S,{totalPages:a.response.last_page,perPage:a.response.per_page,currentPage:a.response.current_page,from:a.response.from,to:a.response.to,total:a.response.total,url:n},null,8,["totalPages","perPage","currentPage","from","to","total"])]),_:1})],64))}};export{at as default};
