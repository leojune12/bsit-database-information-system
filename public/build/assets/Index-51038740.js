import{_ as P}from"./AuthenticatedLayout-53a79dcd.js";import{r as B,P as S}from"./Pagination-9e1eca32.js";import{r as _,u as V,a as w,c as n,b as s,d as c,w as d,F as u,H as D,e,g as f,v as x,x as N,t as i,L as g}from"./app-c77c7403.js";import{S as h}from"./sweetalert2.all-2f24bfa7.js";import{_ as y}from"./LinkComponent-914b6c2a.js";import{_ as E}from"./TextInput-fd354bde.js";import{r as $}from"./PlusIcon-5af7fc9f.js";import"./use-outside-click-de4d3e2a.js";import"./use-tracked-pointer-bed7fbaa.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ChevronRightIcon-290e04b4.js";const A={class:"tw-flex tw-flex-col md:tw-flex-row tw-mb-4 md:tw-justify-between md:tw-items-center tw-gap-y-4"},F=e("h3",{class:"tw-text-xl tw-font-bold tw-leading-6 tw-text-gray-700"}," Users ",-1),L={class:"tw-flex tw-gap-3"},U={class:"tw-flex"},j={class:"tw-overflow-x-auto tw-mb-4"},H={class:"tw-min-w-full"},I={class:"tw-border tw-bg-indigo-500 tw-text-sm tw-font-medium tw-text-white"},O={class:"border"},T={class:"tw-px-6 tw-py-3 tw-whitespace-nowrap tw-text-sm tw-font-medium tw-text-gray-900"},q={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},z={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},R={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},G={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},J={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},K={class:"tw-flex tw-gap-2"},M=["onClick"],Q={key:1,class:"tw-bg-white tw-border-b tw-transition tw-duration-300 tw-ease-in-out hover:tw-bg-gray-100"},W=["colspan"],it={__name:"Index",props:{response:Object},setup(b){const r=b,m=_([{title:"ID",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"First Name",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Last Name",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Email",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Role",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Actions",class:"tw-py-3 tw-px-6 tw-text-left"}]),a="users",v=V({}),p=_("");function k(o){h.fire({title:"Are you sure?",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Delete"}).then(l=>{l.isConfirmed&&C(o)})}function C(o){let l=Array.isArray(o)?Object.keys(o).map(t=>o[t].id):[o];v.transform(()=>({id_array:l})).delete(route(a+".destroy",o),{preserveScroll:!0,onSuccess:()=>{h.fire({title:"Deleted successfully",confirmButtonColor:"#16a34a"})},onError:t=>{h.fire({title:"Something went wrong",text:"Please refresh the page.",icon:"error",confirmButtonColor:"#d33"})}})}return(o,l)=>(w(),n(u,null,[s(c(D),{title:"Users"}),s(P,null,{default:d(()=>[e("div",A,[F,e("div",L,[e("div",U,[s(E,{id:"id_number",type:"text",class:"tw-block tw-w-full tw-border-r-0 tw-rounded-r-none tw-ring-0 tw-rounded-lg tw-border-2",modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=t=>p.value=t),required:"",autocomplete:"id_number",placeholder:"Search"},null,8,["modelValue"]),s(y,{href:p.value?"/"+a+"/?search="+p.value:"/"+a,type:"success-outlined",class:"tw-h-11 tw-rounded-l-none",title:"Search"},{default:d(()=>[s(c(B),{class:"tw-h-6 tw-w-6"})]),_:1},8,["href"])]),s(y,{href:a+"/create",type:"success-outlined",class:"tw-h-11"},{default:d(()=>[s(c($),{class:"tw-block tw-h-5 tw-w-5","aria-hidden":"true"}),f(" New User ")]),_:1},8,["href"])])]),e("div",j,[e("table",H,[e("thead",I,[e("tr",null,[(w(!0),n(u,null,x(m.value,t=>(w(),n("th",{key:t.title,class:N(t.class)},i(t.title),3))),128))])]),e("tbody",O,[r.response.data.length?(w(!0),n(u,{key:0},x(r.response.data,t=>(w(),n("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-transition tw-duration-300 tw-ease-in-out hover:tw-bg-gray-100"},[e("td",T,i(t.id),1),e("td",q,i(t.first_name),1),e("td",z,i(t.last_name),1),e("td",R,i(t.email),1),e("td",G,i(t.roles[0].name),1),e("td",J,[e("div",K,[s(c(g),{href:a+"/"+t.id,class:"tw-text-green-500 hover:tw-text-green-600 tw-transition tw-duration-300 tw-ease-in-out",title:"View"},{default:d(()=>[f(" View ")]),_:2},1032,["href"]),s(c(g),{href:a+"/"+t.id+"/edit",class:"tw-text-blue-600 hover:tw-text-blue-700 tw-transition tw-duration-300 tw-ease-in-out",title:"Edit"},{default:d(()=>[f(" Edit ")]),_:2},1032,["href"]),e("a",{href:"#",class:"tw-text-red-500 hover:tw-text-red-600 tw-transition tw-duration-300 tw-ease-in-out",title:"Delete",onClick:X=>k(t.id)}," Delete ",8,M)])])]))),128)):(w(),n("tr",Q,[e("td",{colspan:m.value.length,class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap tw-text-center"}," No records ",8,W)]))])])]),s(S,{totalPages:r.response.last_page??0,perPage:r.response.per_page??0,currentPage:r.response.current_page??0,from:r.response.from??0,to:r.response.to??0,total:r.response.total??0,url:a},null,8,["totalPages","perPage","currentPage","from","to","total"])]),_:1})],64))}};export{it as default};
