import{_ as V}from"./AuthenticatedLayout-53a79dcd.js";import{r as N,P}from"./Pagination-9e1eca32.js";import{r as g,u as D,a as r,c as l,b as o,d as c,w as d,F as f,H as $,e,q as y,g as u,B as h,v as b,x as A,t as n,L as m}from"./app-c77c7403.js";import{S as x}from"./sweetalert2.all-2f24bfa7.js";import{_ as v}from"./LinkComponent-914b6c2a.js";import{_ as E}from"./TextInput-fd354bde.js";import{r as F}from"./PlusIcon-5af7fc9f.js";import"./use-outside-click-de4d3e2a.js";import"./use-tracked-pointer-bed7fbaa.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ChevronRightIcon-290e04b4.js";const I={class:"tw-flex tw-flex-col md:tw-flex-row tw-mb-4 md:tw-justify-between md:tw-items-center tw-gap-y-4"},L=e("h3",{class:"tw-text-xl tw-font-bold tw-leading-6 tw-text-gray-700"}," Students ",-1),j={class:"tw-flex tw-gap-3"},H={class:"tw-flex"},q={class:"tw-overflow-x-auto tw-mb-4"},O={class:"tw-min-w-full"},T={class:"tw-border tw-bg-indigo-500 tw-text-sm tw-font-medium tw-text-white"},z={class:"border"},G={class:"tw-px-6 tw-py-3 tw-whitespace-nowrap tw-text-sm tw-font-medium tw-text-gray-900"},U={class:"tw-px-6 tw-py-3 tw-whitespace-nowrap tw-text-sm tw-font-medium tw-text-gray-900"},Y={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},J={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},K={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},M={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},Q={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},R={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},W={class:"tw-flex tw-gap-2"},X=["onClick"],Z={key:1,class:"tw-bg-white tw-border-b tw-transition tw-duration-300 tw-ease-in-out hover:tw-bg-gray-100"},tt=["colspan"],ut={__name:"Index",props:{response:Object},setup(k){const a=k,_=g([{title:"ID",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"ID Number",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"First Name",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Last Name",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Email",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Year",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Section",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Actions",class:"tw-py-3 tw-px-6 tw-text-left"}]),w="students",p=g(""),S=D({});function C(s){x.fire({title:"Are you sure?",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Delete"}).then(i=>{i.isConfirmed&&B(s)})}function B(s){let i=Array.isArray(s)?Object.keys(s).map(t=>s[t].id):[s];S.transform(()=>({id_array:i})).delete(route(w+".destroy",s),{preserveScroll:!0,onSuccess:()=>{x.fire({title:"Deleted successfully",confirmButtonColor:"#16a34a"})},onError:t=>{x.fire({title:"Something went wrong",text:"Please refresh the page.",icon:"error",confirmButtonColor:"#d33"})}})}return(s,i)=>(r(),l(f,null,[o(c($),{title:"Students"}),o(V,null,{default:d(()=>[e("div",I,[L,e("div",j,[e("div",H,[o(E,{id:"id_number",type:"text",class:"tw-block tw-w-full tw-border-r-0 tw-rounded-r-none tw-ring-0 tw-rounded-lg tw-border-2",modelValue:p.value,"onUpdate:modelValue":i[0]||(i[0]=t=>p.value=t),required:"",autocomplete:"id_number",placeholder:"Search"},null,8,["modelValue"]),o(v,{href:p.value?"/"+w+"/?search="+p.value:"/"+w,type:"success-outlined",class:"tw-h-11 tw-rounded-l-none",title:"Search"},{default:d(()=>[o(c(N),{class:"tw-h-6 tw-w-6"})]),_:1},8,["href"])]),["Admin"].includes(s.$page.props.auth.user.roles[0].name)?(r(),y(v,{key:0,href:w+"/create",type:"success-outlined",class:"tw-h-11"},{default:d(()=>[o(c(F),{class:"tw-block tw-h-5 tw-w-5","aria-hidden":"true"}),u(" New Student ")]),_:1},8,["href"])):h("",!0)])]),e("div",q,[e("table",O,[e("thead",T,[e("tr",null,[(r(!0),l(f,null,b(_.value,t=>(r(),l("th",{key:t.title,class:A(t.class)},n(t.title),3))),128))])]),e("tbody",z,[a.response.data.length?(r(!0),l(f,{key:0},b(a.response.data,t=>(r(),l("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-transition tw-duration-300 tw-ease-in-out hover:tw-bg-gray-100"},[e("td",G,n(t.id),1),e("td",U,n(t.id_number),1),e("td",Y,n(t.first_name),1),e("td",J,n(t.last_name),1),e("td",K,n(t.email),1),e("td",M,n(t.sections[0]?t.sections[0].year:""),1),e("td",Q,n(t.sections[0]?t.sections[0].name:""),1),e("td",R,[e("div",W,[o(c(m),{href:w+"/"+t.id+"/grades",class:"tw-text-yellow-500 hover:tw-text-yellow-600 tw-transition tw-duration-300 tw-ease-in-out",title:"View"},{default:d(()=>[u(" Grades ")]),_:2},1032,["href"]),o(c(m),{href:w+"/"+t.id,class:"tw-text-green-500 hover:tw-text-green-600 tw-transition tw-duration-300 tw-ease-in-out",title:"View"},{default:d(()=>[u(" View ")]),_:2},1032,["href"]),s.$page.props.auth.user.roles[0].name=="Admin"?(r(),y(c(m),{key:0,href:w+"/"+t.id+"/edit",class:"tw-text-blue-600 hover:tw-text-blue-700 tw-transition tw-duration-300 tw-ease-in-out",title:"Edit"},{default:d(()=>[u(" Edit ")]),_:2},1032,["href"])):h("",!0),s.$page.props.auth.user.roles[0].name=="Admin"?(r(),l("a",{key:1,href:"#",class:"tw-text-red-500 hover:tw-text-red-600 tw-transition tw-duration-300 tw-ease-in-out",title:"Delete",onClick:et=>C(t.id)}," Delete ",8,X)):h("",!0)])])]))),128)):(r(),l("tr",Z,[e("td",{colspan:_.value.length,class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap tw-text-center"}," No records ",8,tt)]))])])]),o(P,{totalPages:a.response.last_page??0,perPage:a.response.per_page??0,currentPage:a.response.current_page??0,from:a.response.from??0,to:a.response.to??0,total:a.response.total??0,url:w},null,8,["totalPages","perPage","currentPage","from","to","total"])]),_:1})],64))}};export{ut as default};
