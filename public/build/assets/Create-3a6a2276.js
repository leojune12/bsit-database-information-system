import{r as u,u as D,o as P,J as k,a as y,c as b,b as l,d as s,w as x,F as E,H as M,e as o,f as R,t as q,B as C,g as B,h as L}from"./app-59b56124.js";import{_ as H}from"./AuthenticatedLayout-9c6bd5d9.js";import{_ as i}from"./InputError-f040ad7f.js";import{_ as d}from"./InputLabel-afe9f46f.js";import{_ as r}from"./TextInput-3203dc66.js";import{_ as j}from"./PrimaryButton-b904e6d8.js";import{_ as G}from"./LinkComponent-f80632ad.js";import{S as J}from"./sweetalert2.all-0d0469c4.js";import{_ as p}from"./ListBox-32b51b49.js";import"./use-outside-click-a33fe8c4.js";import"./use-tracked-pointer-8a03dc1b.js";import"./hidden-23a282eb.js";const K={class:"tw-bg-white tw-shadow-lg tw-border sm:tw-rounded-lg tw-mb-5 tw-p-4 sm:tw-p-8"},T=o("div",{class:"md:tw-grid md:tw-grid-cols-2"},[o("header",null,[o("h2",{class:"tw-text-xl tw-font-bold tw-text-gray-900"},"Create User")])],-1),W={class:""},O=o("h3",{class:"tw-text-lg tw-font-bold tw-text-gray-600"}," Profile Information ",-1),Q={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},X={key:0,class:"tw-mb-2"},Y=["src"],Z={class:"tw-mb-0"},ee={class:"tw-mb-0"},te={class:"tw-flex tw-gap-3"},le={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},se={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},ae={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},oe={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},ie={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},de=o("div",{class:"tw-border tw-border-gray-200"},null,-1),re=o("h3",{class:"tw-text-lg tw-font-bold tw-text-gray-600"}," Contact Information ",-1),ne={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},me=o("div",{class:"tw-border tw-border-gray-200"},null,-1),ue=o("h3",{class:"tw-text-xl tw-font-bold tw-text-gray-600"}," Address Information ",-1),we={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},ce={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},pe=o("div",{class:"tw-border tw-border-gray-200"},null,-1),fe=o("h3",{class:"tw-text-xl tw-font-bold tw-text-gray-600"}," Account Information ",-1),ge={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},_e={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},ve={class:"tw-flex tw-flex-col md:tw-flex-row tw-gap-4"},Se={__name:"Create",setup(ye){const f="users",w=u(null),e=D({photo:null,first_name:null,last_name:null,middle_name:null,suffix_name:null,gender:null,citizenship:null,religion:null,civil_status:null,date_of_birth:null,place_of_birth:null,email:null,contact_number:null,province_id:null,city_id:null,barangay_id:null,role:null,password:null,password_confirmation:null,terms:!1}),V=u([]),h=u([]),U=u([]),g=u(!1),c=u(!1);P(()=>{$()}),k(()=>_.cloneDeep(e.province_id),(n,t)=>{N(e.province_id),g.value=!0,c.value=!0,e.city_id=null,e.barangay_id=null}),k(()=>_.cloneDeep(e.city_id),(n,t)=>{A(e.city_id),c.value=!0,e.barangay_id=null});function F(n){let t=n.target;if(t.files.length){let a=new FileReader;a.onload=m=>{w.value=m.target.result},e.photo=t.files[0],a.readAsDataURL(t.files[0])}}function I(){document.getElementById("photo").click()}function z(){e.photo=null,w.value=null}function S(){e.post(route(f+".store"),{preserveScroll:!0,onSuccess:()=>{J.fire({title:"Created successfully",confirmButtonColor:"#16a34a"}).then(()=>{L.Inertia.get("/"+f)})}})}function $(){axios.get("/address/get-provinces").then(function(n){let t=[];n.data.forEach(a=>{t.push({id:a.provCode,name:v(a.provDesc)})}),V.value=t})}function N(n){axios.get("/address/get-cities-municipalities-per-province/"+n).then(function(t){let a=[];t.data.forEach(m=>{a.push({id:m.citymunCode,name:v(m.citymunDesc)})}),h.value=a})}function A(n){axios.get("/address/get-barangays-per-city-muniicpality/"+n).then(function(t){let a=[];t.data.forEach(m=>{a.push({id:m.brgyCode,name:v(m.brgyDesc)})}),U.value=a})}function v(n){return n.toLowerCase().replace(/\b[a-z]/g,function(t){return t.toUpperCase()})}return(n,t)=>(y(),b(E,null,[l(s(M),{title:"Users"}),l(H,null,{default:x(()=>[o("div",K,[T,o("div",W,[o("form",{onSubmit:t[22]||(t[22]=R(a=>S(),["prevent"])),class:"tw-mt-6 tw-space-y-6"},[O,o("div",Q,[o("div",null,[l(d,{for:"photo",value:"Photo",class:"tw-mb-1"}),o("input",{type:"file",accept:"image/*",onInput:F,class:"",id:"photo",hidden:""},null,32),w.value?(y(),b("div",X,[o("img",{src:w.value,class:"tw-w-44 tw-max-h-44 tw-object-contain tw-mb-2"},null,8,Y),o("p",Z,"File name: "+q(s(e).photo.name),1),o("p",ee,"Size: "+q((s(e).photo.size/1024).toFixed(2))+"KB",1)])):C("",!0),o("div",te,[o("button",{onClick:t[0]||(t[0]=a=>I()),type:"button",class:"tw-h-8 tw-bg-blue-500 hover:tw-bg-blue-600 tw-text-white tw-rounded-lg tw-px-3 tw-text-sm"}," Browse File "),w.value?(y(),b("button",{key:0,onClick:t[1]||(t[1]=a=>z()),type:"button",class:"tw-h-8 tw-bg-red-500 hover:tw-bg-red-600 tw-text-white tw-rounded-lg tw-px-3 tw-text-sm"}," Remove ")):C("",!0)]),l(i,{class:"tw-mt-2",message:s(e).errors.photo},null,8,["message"])])]),o("div",le,[o("div",null,[l(d,{for:"first_name",value:"First Name",required:""}),l(r,{id:"first_name",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).first_name,"onUpdate:modelValue":t[2]||(t[2]=a=>s(e).first_name=a),required:"",autocomplete:"first_name"},null,8,["modelValue"]),l(i,{class:"tw-mt-2",message:s(e).errors.first_name},null,8,["message"])]),o("div",null,[l(d,{for:"middle_name",value:"Middle Name"}),l(r,{id:"middle_name",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).middle_name,"onUpdate:modelValue":t[3]||(t[3]=a=>s(e).middle_name=a),autocomplete:"middle_name"},null,8,["modelValue"]),l(i,{class:"tw-mt-2",message:s(e).errors.middle_name},null,8,["message"])])]),o("div",se,[o("div",null,[l(d,{for:"last_name",value:"Last Name",required:""}),l(r,{id:"last_name",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).last_name,"onUpdate:modelValue":t[4]||(t[4]=a=>s(e).last_name=a),required:"",autocomplete:"last_name"},null,8,["modelValue"]),l(i,{class:"tw-mt-2",message:s(e).errors.last_name},null,8,["message"])]),o("div",null,[l(d,{for:"suffix_name",value:"Suffix Name"}),l(r,{id:"suffix_name",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).suffix_name,"onUpdate:modelValue":t[5]||(t[5]=a=>s(e).suffix_name=a),autocomplete:"suffix_name"},null,8,["modelValue"]),l(i,{class:"tw-mt-2",message:s(e).errors.suffix_name},null,8,["message"])])]),o("div",ae,[o("div",null,[l(d,{for:"gender",value:"Gender",required:""}),l(r,{id:"gender",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).gender,"onUpdate:modelValue":t[6]||(t[6]=a=>s(e).gender=a),required:"",autocomplete:"gender"},null,8,["modelValue"]),l(i,{class:"tw-mt-2",message:s(e).errors.gender},null,8,["message"])]),o("div",null,[l(d,{for:"citizenship",value:"Citizenship",required:""}),l(r,{id:"citizenship",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).citizenship,"onUpdate:modelValue":t[7]||(t[7]=a=>s(e).citizenship=a),required:"",autocomplete:"citizenship"},null,8,["modelValue"]),l(i,{class:"mt-2",message:s(e).errors.citizenship},null,8,["message"])])]),o("div",oe,[o("div",null,[l(d,{for:"religion",value:"Religion"}),l(r,{id:"religion",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).religion,"onUpdate:modelValue":t[8]||(t[8]=a=>s(e).religion=a),autocomplete:"religion"},null,8,["modelValue"]),l(i,{class:"tw-mt-2",message:s(e).errors.religion},null,8,["message"])]),o("div",null,[l(d,{for:"civil_status",value:"Civil Status",required:""}),l(r,{id:"civil_status",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).civil_status,"onUpdate:modelValue":t[9]||(t[9]=a=>s(e).civil_status=a),required:"",autocomplete:"civil_status"},null,8,["modelValue"]),l(i,{class:"mt-2",message:s(e).errors.civil_status},null,8,["message"])])]),o("div",ie,[o("div",null,[l(d,{for:"date_of_birth",value:"Birthday",required:""}),l(r,{id:"date_of_birth",type:"date",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).date_of_birth,"onUpdate:modelValue":t[10]||(t[10]=a=>s(e).date_of_birth=a),required:"",autocomplete:"date_of_birth"},null,8,["modelValue"]),l(i,{class:"tw-mt-2",message:s(e).errors.date_of_birth},null,8,["message"])]),o("div",null,[l(d,{for:"place_of_birth",value:"Place of Birth"}),l(r,{id:"place_of_birth",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).place_of_birth,"onUpdate:modelValue":t[11]||(t[11]=a=>s(e).place_of_birth=a),autocomplete:"place_of_birth"},null,8,["modelValue"]),l(i,{class:"mt-2",message:s(e).errors.place_of_birth},null,8,["message"])])]),de,re,o("div",ne,[o("div",null,[l(d,{for:"email",value:"Email address",required:""}),l(r,{id:"email",type:"email",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).email,"onUpdate:modelValue":t[12]||(t[12]=a=>s(e).email=a),required:"",autocomplete:"email"},null,8,["modelValue"]),l(i,{class:"mt-2",message:s(e).errors.email},null,8,["message"])]),o("div",null,[l(d,{for:"contact_number",value:"Contact Number"}),l(r,{id:"contact_number",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).contact_number,"onUpdate:modelValue":t[13]||(t[13]=a=>s(e).contact_number=a),autocomplete:"contact_number"},null,8,["modelValue"]),l(i,{class:"tw-mt-2",message:s(e).errors.contact_number},null,8,["message"])])]),me,ue,o("div",we,[o("div",null,[l(d,{for:"province_id",value:"Province",required:""}),l(p,{id:"province_id",items:V.value,"onUpdate:modelValue":t[14]||(t[14]=a=>s(e).province_id=a.id),"model-value":s(e).province_id},null,8,["items","model-value"]),l(i,{class:"mt-2",message:s(e).errors.province_id},null,8,["message"])]),o("div",null,[l(d,{for:"city_id",value:"City/Municipality",required:""}),l(p,{id:"city_id",items:h.value,"onUpdate:modelValue":t[15]||(t[15]=a=>s(e).city_id=a.id),"model-value":s(e).city_id,"reset-index":g.value,"onUpdate:resetIndex":t[16]||(t[16]=a=>g.value=a)},null,8,["items","model-value","reset-index"]),l(i,{class:"mt-2",message:s(e).errors.city_id},null,8,["message"])])]),o("div",ce,[o("div",null,[l(d,{for:"barangay_id",value:"Barangay",required:""}),l(p,{id:"barangay_id",items:U.value,"onUpdate:modelValue":t[17]||(t[17]=a=>s(e).barangay_id=a.id),"model-value":s(e).barangay_id,"reset-index":c.value,"onUpdate:resetIndex":t[18]||(t[18]=a=>c.value=a)},null,8,["items","model-value","reset-index"]),l(i,{class:"mt-2",message:s(e).errors.barangay_id},null,8,["message"])])]),pe,fe,o("div",ge,[o("div",null,[l(d,{for:"role",value:"Role",required:""}),l(p,{id:"role",items:[{id:1,name:"Admin"},{id:2,name:"Faculty"}],"onUpdate:modelValue":t[19]||(t[19]=a=>s(e).role=a.id),"model-value":s(e).role},null,8,["model-value"]),l(i,{class:"mt-2",message:s(e).errors.role},null,8,["message"])])]),o("div",_e,[o("div",null,[l(d,{for:"password",value:"Password",required:""}),l(r,{id:"password",type:"password",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).password,"onUpdate:modelValue":t[20]||(t[20]=a=>s(e).password=a),required:"",autocomplete:"password"},null,8,["modelValue"]),l(i,{class:"tw-mt-2",message:s(e).errors.password},null,8,["message"])]),o("div",null,[l(d,{for:"password_confirmation",value:"Confirm Password",required:""}),l(r,{id:"password_confirmation",type:"password",class:"tw-mt-1 tw-block tw-w-full",modelValue:s(e).password_confirmation,"onUpdate:modelValue":t[21]||(t[21]=a=>s(e).password_confirmation=a),required:"",autocomplete:"password_confirmation"},null,8,["modelValue"]),l(i,{class:"tw-mt-2",message:s(e).errors.password_confirmation},null,8,["message"])])]),o("div",ve,[l(G,{href:"/"+f,type:"secondary"},{default:x(()=>[B(" Back ")]),_:1},8,["href"]),l(j,{disabled:s(e).processing},{default:x(()=>[B(" Save ")]),_:1},8,["disabled"])])],32)])])]),_:1})],64))}};export{Se as default};
