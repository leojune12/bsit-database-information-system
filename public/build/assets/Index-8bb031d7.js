import{_ as B}from"./AuthenticatedLayout-1623c223.js";import{r as P,P as j}from"./Pagination-4be6078d.js";import{r as h,u as D,a,c as n,b as r,d as c,w as d,F as p,H as V,e,g as f,v as _,x as N,t as l,L as g,q as $,B as y}from"./app-00980844.js";import{S as m}from"./sweetalert2.all-aae87526.js";import{_ as b}from"./LinkComponent-0cedf903.js";import{_ as A}from"./TextInput-0c948040.js";import{r as q}from"./PlusIcon-1d33c615.js";import"./use-outside-click-d2289df3.js";import"./use-tracked-pointer-56029cb5.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ChevronRightIcon-14420ced.js";const E={class:"tw-flex tw-flex-col md:tw-flex-row tw-mb-4 md:tw-justify-between md:tw-items-center tw-gap-y-4"},F=e("h3",{class:"tw-text-xl tw-font-bold tw-leading-6 tw-text-gray-700"}," Subjects ",-1),I={class:"tw-flex tw-gap-3"},H={class:"tw-flex"},L={class:"tw-overflow-x-auto tw-mb-4"},T={class:"tw-min-w-full"},O={class:"tw-border tw-bg-rose-800 tw-text-sm tw-font-medium tw-text-white"},z={class:"border"},U={class:"tw-px-6 tw-py-3 tw-whitespace-nowrap tw-text-sm tw-font-medium tw-text-gray-900"},Y={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},G={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},J={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},K={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},M={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},Q={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3"},R={class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap"},W={class:"tw-flex tw-gap-2"},X=["onClick"],Z={key:1,class:"tw-bg-white tw-border-b tw-transition tw-duration-300 tw-ease-in-out hover:tw-bg-gray-100"},tt=["colspan"],pt={__name:"Index",props:{response:Object},setup(v){const o=v,x=h([{title:"ID",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Curriculum",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Course Number",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Descriptive Title",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Prerequisite Subject ID",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Year",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Semester",class:"tw-py-3 tw-px-6 tw-text-left"},{title:"Actions",class:"tw-py-3 tw-px-6 tw-text-left"}]),w="subjects",k=D({}),u=h("");function C(s){m.fire({title:"Are you sure?",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Delete"}).then(i=>{i.isConfirmed&&S(s)})}function S(s){let i=Array.isArray(s)?Object.keys(s).map(t=>s[t].id):[s];k.transform(()=>({id_array:i})).delete(route(w+".destroy",s),{preserveScroll:!0,onSuccess:()=>{m.fire({title:"Deleted successfully",confirmButtonColor:"#9F1239"})},onError:t=>{m.fire({title:"Something went wrong",text:"Please refresh the page.",icon:"error",confirmButtonColor:"#d33"})}})}return(s,i)=>(a(),n(p,null,[r(c(V),{title:"Subjects"}),r(B,null,{default:d(()=>[e("div",E,[F,e("div",I,[e("div",H,[r(A,{id:"id_number",type:"text",class:"tw-block tw-w-full tw-border-r-0 tw-rounded-r-none tw-ring-0 tw-rounded-lg tw-border-2",modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=t=>u.value=t),required:"",autocomplete:"id_number",placeholder:"Search"},null,8,["modelValue"]),r(b,{href:u.value?"/"+w+"/?search="+u.value:"/"+w,type:"success-outlined",class:"tw-h-11 tw-rounded-l-none",title:"Search"},{default:d(()=>[r(c(P),{class:"tw-h-6 tw-w-6"})]),_:1},8,["href"])]),r(b,{href:w+"/create",type:"success-outlined",class:"tw-h-11"},{default:d(()=>[r(c(q),{class:"tw-block tw-h-5 tw-w-5","aria-hidden":"true"}),f(" New Subject ")]),_:1},8,["href"])])]),e("div",L,[e("table",T,[e("thead",O,[e("tr",null,[(a(!0),n(p,null,_(x.value,t=>(a(),n("th",{key:t.title,class:N(t.class)},l(t.title),3))),128))])]),e("tbody",z,[o.response.data.length?(a(!0),n(p,{key:0},_(o.response.data,t=>(a(),n("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-transition tw-duration-300 tw-ease-in-out hover:tw-bg-gray-100"},[e("td",U,l(t.id),1),e("td",Y,l(t.curriculum.name),1),e("td",G,l(t.course_code),1),e("td",J,l(t.descriptive_title),1),e("td",K,l(t.prerequisite_subject_id),1),e("td",M,l(t.year),1),e("td",Q,l(t.semester),1),e("td",R,[e("div",W,[r(c(g),{href:w+"/"+t.id,class:"tw-text-green-500 hover:tw-text-green-600 tw-transition tw-duration-300 tw-ease-in-out",title:"View"},{default:d(()=>[f(" View ")]),_:2},1032,["href"]),s.$page.props.auth.user.roles[0].name=="Admin"?(a(),$(c(g),{key:0,href:w+"/"+t.id+"/edit",class:"tw-text-blue-600 hover:tw-text-blue-700 tw-transition tw-duration-300 tw-ease-in-out",title:"Edit"},{default:d(()=>[f(" Edit ")]),_:2},1032,["href"])):y("",!0),s.$page.props.auth.user.roles[0].name=="Admin"?(a(),n("a",{key:1,href:"#",class:"tw-text-red-500 hover:tw-text-red-600 tw-transition tw-duration-300 tw-ease-in-out",title:"Delete",onClick:et=>C(t.id)}," Delete ",8,X)):y("",!0)])])]))),128)):(a(),n("tr",Z,[e("td",{colspan:x.value.length,class:"tw-text-sm tw-text-gray-900 tw-font-light tw-px-6 tw-py-3 tw-whitespace-nowrap tw-text-center"}," No records ",8,tt)]))])])]),r(j,{totalPages:o.response.last_page??0,perPage:o.response.per_page??0,currentPage:o.response.current_page??0,from:o.response.from??0,to:o.response.to??0,total:o.response.total??0,url:w},null,8,["totalPages","perPage","currentPage","from","to","total"])]),_:1})],64))}};export{pt as default};
