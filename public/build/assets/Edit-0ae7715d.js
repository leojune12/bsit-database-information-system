import{u as $,r as c,o as D,w as h,a as E,c as I,b as a,d as t,e as v,F as M,H as q,f as d,g as F,h as C,i as A}from"./app-9d0c95cc.js";import{_ as P}from"./AuthenticatedLayout-f795d83f.js";import{_ as i}from"./InputError-fa2429d5.js";import{_ as m,a as n}from"./TextInput-a8a5cff1.js";import{_ as G}from"./PrimaryButton-a48b6c0d.js";import{_ as H}from"./LinkComponent-30784dcb.js";import{S as L}from"./sweetalert2.all-f530f184.js";import{_ as y}from"./ListBox-53a9431d.js";import"./use-outside-click-dc434eac.js";import"./use-tracked-pointer-6251704b.js";import"./hidden-dcf95661.js";const j={class:"tw-bg-white tw-shadow-lg sm:tw-rounded-lg tw-mb-5 tw-p-4 sm:tw-p-8"},z=d("div",{class:"md:tw-grid md:tw-grid-cols-2"},[d("header",null,[d("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-900"},"Update Student")])],-1),O={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},R={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},T={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},W={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},J={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},K={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},Q={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},X={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},Y={class:"md:tw-grid md:tw-grid-cols-2 md:tw-gap-x-6 tw-space-y-6 md:tw-space-y-0"},Z={class:"tw-flex tw-flex-col md:tw-flex-row tw-gap-4"},ue={__name:"Edit",props:{model:Object,roles:Array},setup(N){const o=N,w="students",e=$({id_number:o.model.id_number,first_name:o.model.first_name,last_name:o.model.last_name,middle_name:o.model.middle_name,suffix_name:o.model.suffix_name,date_of_birth:o.model.date_of_birth,email:o.model.email,contact_number:o.model.contact_number,guardian_name:o.model.guardian_name,guardian_relationship:o.model.guardian_relationship,guardian_contact_number:o.model.guardian_contact_number,province_id:o.model.province_id,city_id:o.model.city_id,barangay_id:o.model.barangay_id,password:null,password_confirmation:null,terms:!1}),b=c([]),V=c([]),x=c([]),f=c(!1),p=c(!1);D(()=>{o.model.province_id&&S(),o.model.city_id&&U(o.model.province_id),o.model.barangay_id&&k(o.model.city_id)}),h(()=>_.cloneDeep(e.province_id),(r,l)=>{U(e.province_id),f.value=!0,p.value=!0,e.city_id=null,e.barangay_id=null}),h(()=>_.cloneDeep(e.city_id),(r,l)=>{k(e.city_id),p.value=!0,e.barangay_id=null});function B(){e.patch(route(w+".update",o.model.id),{preserveScroll:!0,onSuccess:()=>{L.fire({title:"Updated successfully",confirmButtonColor:"#16a34a"}).then(()=>{A.Inertia.get("/"+w)})}})}function S(){axios.get("/address/get-provinces").then(function(r){let l=[];r.data.forEach(s=>{l.push({id:s.provCode,name:g(s.provDesc)})}),b.value=l})}function U(r){axios.get("/address/get-cities-municipalities-per-province/"+r).then(function(l){let s=[];l.data.forEach(u=>{s.push({id:u.citymunCode,name:g(u.citymunDesc)})}),V.value=s})}function k(r){axios.get("/address/get-barangays-per-city-muniicpality/"+r).then(function(l){let s=[];l.data.forEach(u=>{s.push({id:u.brgyCode,name:g(u.brgyDesc)})}),x.value=s})}function g(r){return r.toLowerCase().replace(/\b[a-z]/g,function(l){return l.toUpperCase()})}return(r,l)=>(E(),I(M,null,[a(t(q),{title:"Students"}),a(P,null,{default:v(()=>[d("div",j,[z,d("form",{onSubmit:l[18]||(l[18]=F(s=>B(),["prevent"])),class:"tw-mt-6 tw-space-y-6 md:tw-col-span-1"},[d("div",O,[d("div",null,[a(m,{for:"id_number",value:"ID Number"}),a(n,{id:"id_number",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).id_number,"onUpdate:modelValue":l[0]||(l[0]=s=>t(e).id_number=s),required:"",autofocus:"",autocomplete:"id_number"},null,8,["modelValue"]),a(i,{class:"tw-mt-2",message:t(e).errors.id_number},null,8,["message"])])]),d("div",R,[d("div",null,[a(m,{for:"first_name",value:"First Name"}),a(n,{id:"first_name",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).first_name,"onUpdate:modelValue":l[1]||(l[1]=s=>t(e).first_name=s),required:"",autocomplete:"first_name"},null,8,["modelValue"]),a(i,{class:"tw-mt-2",message:t(e).errors.first_name},null,8,["message"])]),d("div",null,[a(m,{for:"middle_name",value:"Middle Name"}),a(n,{id:"middle_name",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).middle_name,"onUpdate:modelValue":l[2]||(l[2]=s=>t(e).middle_name=s),autocomplete:"middle_name"},null,8,["modelValue"]),a(i,{class:"tw-mt-2",message:t(e).errors.middle_name},null,8,["message"])])]),d("div",T,[d("div",null,[a(m,{for:"last_name",value:"Last Name"}),a(n,{id:"last_name",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).last_name,"onUpdate:modelValue":l[3]||(l[3]=s=>t(e).last_name=s),required:"",autocomplete:"last_name"},null,8,["modelValue"]),a(i,{class:"tw-mt-2",message:t(e).errors.last_name},null,8,["message"])]),d("div",null,[a(m,{for:"suffix_name",value:"Suffix Name"}),a(n,{id:"suffix_name",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).suffix_name,"onUpdate:modelValue":l[4]||(l[4]=s=>t(e).suffix_name=s),autocomplete:"suffix_name"},null,8,["modelValue"]),a(i,{class:"tw-mt-2",message:t(e).errors.suffix_name},null,8,["message"])])]),d("div",W,[d("div",null,[a(m,{for:"date_of_birth",value:"Birthday (yyyy-mm-dd)"}),a(n,{id:"date_of_birth",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).date_of_birth,"onUpdate:modelValue":l[5]||(l[5]=s=>t(e).date_of_birth=s),required:"",autocomplete:"date_of_birth"},null,8,["modelValue"]),a(i,{class:"tw-mt-2",message:t(e).errors.date_of_birth},null,8,["message"])]),d("div",null,[a(m,{for:"email",value:"Email address"}),a(n,{id:"email",type:"email",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).email,"onUpdate:modelValue":l[6]||(l[6]=s=>t(e).email=s),required:"",autocomplete:"email"},null,8,["modelValue"]),a(i,{class:"mt-2",message:t(e).errors.email},null,8,["message"])])]),d("div",J,[d("div",null,[a(m,{for:"contact_number",value:"Contact Number"}),a(n,{id:"contact_number",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).contact_number,"onUpdate:modelValue":l[7]||(l[7]=s=>t(e).contact_number=s),autocomplete:"contact_number"},null,8,["modelValue"]),a(i,{class:"tw-mt-2",message:t(e).errors.contact_number},null,8,["message"])]),d("div",null,[a(m,{for:"guardian_name",value:"Guardian Name"}),a(n,{id:"guardian_name",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).guardian_name,"onUpdate:modelValue":l[8]||(l[8]=s=>t(e).guardian_name=s),autocomplete:"guardian_name"},null,8,["modelValue"]),a(i,{class:"mt-2",message:t(e).errors.guardian_name},null,8,["message"])])]),d("div",K,[d("div",null,[a(m,{for:"guardian_relationship",value:"Guardian Relationship"}),a(n,{id:"guardian_relationship",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).guardian_relationship,"onUpdate:modelValue":l[9]||(l[9]=s=>t(e).guardian_relationship=s),autocomplete:"guardian_relationship"},null,8,["modelValue"]),a(i,{class:"tw-mt-2",message:t(e).errors.guardian_relationship},null,8,["message"])]),d("div",null,[a(m,{for:"guardian_contact_number",value:"Guardian Contact Number"}),a(n,{id:"guardian_contact_number",type:"text",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).guardian_contact_number,"onUpdate:modelValue":l[10]||(l[10]=s=>t(e).guardian_contact_number=s),autocomplete:"guardian_contact_number"},null,8,["modelValue"]),a(i,{class:"mt-2",message:t(e).errors.guardian_contact_number},null,8,["message"])])]),d("div",Q,[d("div",null,[a(m,{for:"province_id",value:"Province"}),a(y,{id:"province_id",items:b.value,"onUpdate:modelValue":l[11]||(l[11]=s=>t(e).province_id=s.id),"model-value":t(e).province_id},null,8,["items","model-value"]),a(i,{class:"mt-2",message:t(e).errors.province_id},null,8,["message"])]),d("div",null,[a(m,{for:"city_id",value:"City/Municipality"}),a(y,{id:"city_id",items:V.value,"onUpdate:modelValue":l[12]||(l[12]=s=>t(e).city_id=s.id),"model-value":t(e).city_id,"reset-index":f.value,"onUpdate:resetIndex":l[13]||(l[13]=s=>f.value=s)},null,8,["items","model-value","reset-index"]),a(i,{class:"mt-2",message:t(e).errors.city_id},null,8,["message"])])]),d("div",X,[d("div",null,[a(m,{for:"barangay_id",value:"Barangay"}),a(y,{id:"barangay_id",items:x.value,"onUpdate:modelValue":l[14]||(l[14]=s=>t(e).barangay_id=s.id),"model-value":t(e).barangay_id,"reset-index":p.value,"onUpdate:resetIndex":l[15]||(l[15]=s=>p.value=s)},null,8,["items","model-value","reset-index"]),a(i,{class:"mt-2",message:t(e).errors.barangay_id},null,8,["message"])])]),d("div",Y,[d("div",null,[a(m,{for:"password",value:"New Password"}),a(n,{id:"password",type:"password",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).password,"onUpdate:modelValue":l[16]||(l[16]=s=>t(e).password=s),autocomplete:"password"},null,8,["modelValue"]),a(i,{class:"tw-mt-2",message:t(e).errors.password},null,8,["message"])]),d("div",null,[a(m,{for:"password_confirmation",value:"Confirm Password"}),a(n,{id:"password_confirmation",type:"password",class:"tw-mt-1 tw-block tw-w-full",modelValue:t(e).password_confirmation,"onUpdate:modelValue":l[17]||(l[17]=s=>t(e).password_confirmation=s),autocomplete:"password_confirmation"},null,8,["modelValue"]),a(i,{class:"tw-mt-2",message:t(e).errors.password_confirmation},null,8,["message"])])]),d("div",Z,[a(H,{href:"/"+w,type:"secondary"},{default:v(()=>[C(" Back ")]),_:1},8,["href"]),a(G,{disabled:t(e).processing},{default:v(()=>[C(" Save ")]),_:1},8,["disabled"])])],32)])]),_:1})],64))}};export{ue as default};
